import{m as B}from"./vuex.e580fdf2.js";import{_ as D,p as I,x as U}from"./index.ed021e06.js";import{x as i,v as x,F as V,A as l,r as d,G as f,D as o,I as g,B as t,P as C,K as E}from"./@vue.6d92c876.js";import"./axios.a2e7c818.js";import"./firebase.b6aa71ac.js";import"./@firebase.eb3d1888.js";import"./idb.13e98345.js";import"./tslib.3c1e63d7.js";import"./vue-router.cacd5158.js";import"./@egjs.49313d0a.js";import"./@cfcs.62ec6ef0.js";import"./@tiptap.58113168.js";import"./prosemirror-state.669ab027.js";import"./prosemirror-model.a115b74d.js";import"./orderedmap.20afc3da.js";import"./prosemirror-transform.3cf32640.js";import"./prosemirror-view.2d8901b7.js";import"./prosemirror-keymap.d8b22547.js";import"./w3c-keyname.a3821d5e.js";import"./prosemirror-commands.0a3dea2e.js";import"./prosemirror-schema-list.6d4dac38.js";import"./tippy.js.4b0d142c.js";import"./@popperjs.d3f73b18.js";import"./@google.3c047deb.js";const F={},P=l("polyline",{points:"176 32 176 128 143.99 104 112 128 112 32"},null,-1),A=l("path",{d:"M48,216a24,24,0,0,1,24-24H208V32H72A24,24,0,0,0,48,56Z"},null,-1),M=l("polyline",{points:"48 216 48 224 192 224"},null,-1);function T(e,a){return i(),x(V,null,[P,A,M],64)}const N=D(F,[["render",T]]),S={components:{plus:I,x:U,book:N},emits:["update:dialog","close"],props:{dialog:{type:Boolean},vocaID:{type:String},wordID:{type:String}},data(){return{word:"",mean:"",examples:[],isEditMode:!1}},created(){this.loadWord()},methods:{...B({createWord:"words/createWord",updateWordByPayload:"words/updateWordByPayload",returnWordByPayload:"words/returnWordByPayload"}),async handleCreateWord(){try{await this.createWord({word:this.word,mean:this.mean,examples:this.examples,vocaID:this.vocaID}),this.word="",this.mean="",this.examples=[],this.updateDialog(!1)}catch(e){console.error("\uB2E8\uC5B4 \uC0DD\uC131 \uC911 \uC624\uB958 \uBC1C\uC0DD:",e),alert("\uB2E8\uC5B4 \uC0DD\uC131\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}},updateDialog(e){this.$emit("update:dialog",e)},handleAddExample(){this.examples.push({sentence:"",translation:""})},handleDeleteExample(e){this.examples.splice(e,1)},async handleUpdateWord(){const e={word:this.word,mean:this.mean,examples:this.examples},a=Object.entries(e).reduce((r,[y,s])=>(s&&(r[y]=s),r),{});try{await this.updateWordByPayload({wordID:this.wordID,payload:a}),this.closeForm()}catch(r){console.error("\uB2E8\uC5B4\uC7A5 \uC218\uC815 \uC911 \uC624\uB958 \uBC1C\uC0DD:",r),alert("\uB2E8\uC5B4\uC7A5 \uC218\uC815\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}},async loadWord(){if(this.wordID){this.isEditMode=!0;const e=await this.returnWordByPayload(this.wordID);e?(this.word=e.word,this.mean=e.mean,this.examples=e.examples):alert("\uB2E8\uC5B4 \uBD88\uB7EC\uC624\uB294\uB370 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}},closeForm(){this.$emit("close")}}},$={class:"content"},j=l("span",null,"\uC0AC\uC804 \uAC80\uC0C9",-1),H=l("div",{class:"sp_48"},null,-1),q={class:"example-wrap"},z={class:"display_flex align-items_center justify-content_space-between"},G={class:"font-size_14 kr font-weight_500"},K=l("div",{class:"sp_8"},null,-1),L=l("span",null,"\uC608\uBB38 \uCD94\uAC00",-1),O=l("div",{class:"sp_128"},null,-1);function Z(e,a,r,y,s,p){const w=d("buttonIcon"),k=d("book"),_=d("icon"),h=d("buttonText"),m=d("textField"),b=d("x"),W=d("plus"),v=d("fullDialog");return i(),f(v,{title:s.isEditMode?"\uB2E8\uC5B4 \uC218\uC815":"\uB2E8\uC5B4 \uCD94\uAC00",dialog:r.dialog,"onUpdate:dialog":p.updateDialog},{header:o(()=>[s.isEditMode?(i(),f(w,{key:1,onClick:a[1]||(a[1]=n=>p.handleUpdateWord())},{default:o(()=>[g("\uC218\uC815")]),_:1})):(i(),f(w,{key:0,onClick:a[0]||(a[0]=n=>p.handleCreateWord())},{default:o(()=>[g("\uCD94\uAC00")]),_:1}))]),default:o(()=>[l("div",$,[t(m,{label:"\uB2E8\uC5B4",modelValue:s.word,"onUpdate:modelValue":a[2]||(a[2]=n=>s.word=n),type:"text"},{default:o(()=>[t(h,{class:"selected gap_4"},{default:o(()=>[t(_,null,{default:o(()=>[t(k)]),_:1}),j]),_:1})]),_:1},8,["modelValue"]),t(m,{label:"\uB2E8\uC5B4 \uB73B",modelValue:s.mean,"onUpdate:modelValue":a[3]||(a[3]=n=>s.mean=n),type:"text",required:""},null,8,["modelValue"]),H,l("div",q,[(i(!0),x(V,null,C(s.examples,(n,c)=>(i(),x("div",{class:"example-content",key:"example"+c},[l("div",z,[l("span",G,"\uC608\uBB38 "+E(c+1),1)]),K,t(m,{label:`\uC608\uBB38 ${c+1}`,modelValue:n.sentence,"onUpdate:modelValue":u=>n.sentence=u,type:"text"},{default:o(()=>[t(h,{class:"selected",onClick:u=>p.handleDeleteExample(c)},{default:o(()=>[t(_,null,{default:o(()=>[t(b)]),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["label","modelValue","onUpdate:modelValue"]),t(m,{label:`\uD574\uC11D ${c+1}`,modelValue:n.translation,"onUpdate:modelValue":u=>n.translation=u,type:"text"},null,8,["label","modelValue","onUpdate:modelValue"])]))),128))]),t(h,{class:"selected gap_4",onClick:p.handleAddExample},{default:o(()=>[t(_,{class:"icon_16"},{default:o(()=>[t(W)]),_:1}),L]),_:1},8,["onClick"])]),O]),_:1},8,["title","dialog","onUpdate:dialog"])}const we=D(S,[["render",Z]]);export{we as default};
