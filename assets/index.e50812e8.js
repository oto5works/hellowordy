import{m as M,a as N,c as he}from"./vuex.660951c6.js";import{o as h,g as y,j as i,k as A,l as F,m as q,q as _,t as f,F as ne,v as x,x as G,y as R,z as L,A as z,B as U,C as fe,T as Y,D as _e}from"./@vue.cb41f6e0.js";import{a as pe}from"./axios.a2e7c818.js";import{G as ye}from"./@google.3c047deb.js";import"./firebase.b6aa71ac.js";import{i as me,g as we,a as ve,b as re,c as P,G as ke,s as De,d as u,e as j,f as B,h as Ie,j as se,u as Z,k as p,l as w,q as $,w as v,m as $e,n as W,o as ae,p as C,t as H,v as O,x as X,y as T,z as ce,A as ee}from"./@firebase.eb3d1888.js";import{c as je,a as Se}from"./vue-router.acacbb23.js";import"./idb.13e98345.js";import"./tslib.3c1e63d7.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function o(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerpolicy&&(n.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?n.credentials="include":a.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(a){if(a.ep)return;a.ep=!0;const n=o(a);fetch(a.href,n)}})();const k=(e,t)=>{const o=e.__vccOpts||e;for(const[s,a]of t)o[s]=a;return o},be={data(){return{loadedSrc:"https://hellowordy.web.app/image/bg.png",loadingSrc:"https://hellowordy.web.app/image/bg.gif"}},computed:{...M({isLoading:"status/isLoading"}),currentSrc(){return this.isLoading?this.loadingSrc:this.loadedSrc}},methods:{...N({generateWord:"wordData/generateWord"})}},Re=e=>(F("data-v-7dd33741"),e=e(),q(),e),We={class:"loading-container"},xe=["src"],Ae=Re(()=>i("div",{class:"gradient"},null,-1));function Be(e,t,o,s,a,n){return h(),y("div",We,[i("img",{src:n.currentSrc,class:A(["loading-image",{loading:e.isLoading,loaded:!e.isLoading}])},null,10,xe),Ae])}const Ue=k(be,[["render",Be],["__scopeId","data-v-7dd33741"]]);const Ee={components:{background:Ue},computed:{...M({isAuthenticated:"users/isAuthenticated"}),isAuth(){return this.$route.name==="auth"},isAnkiID(){return this.$route.name==="ankiID"}},created(){},methods:{...N({})}},Le={class:"app"};function Pe(e,t,o,s,a,n){const r=_("background"),c=_("RouterView");return h(),y("div",Le,[f(r),f(c)])}const Ce=k(Ee,[["render",Pe]]),Fe={namespaced:!0,state:{partOfSpeech:null,word:null,reading:null,meaning:null,generatedWords:[],nativeLanguage:"chinese",targetLanguage:"korean",difficulty:"beginner",learningGoalType:"topic",learningGoal:"travel"},mutations:{SET_WORD_DATA(e,t){console.log("wordData",t),e.partOfSpeech=t.partOfSpeech,e.word=t.word,e.reading=t.reading,e.meaning=t.meaning},ADD_GENERATED_WORD(e,t){e.generatedWords.push(t)},SET_SOURCE_LANGUAGE(e,t){e.nativeLanguage=t},SET_TARGET_LANGUAGE(e,t){e.targetLanguage=t}},actions:{async generateWord({commit:e,state:t,dispatch:o}){o("status/startLoading",{},{root:!0}),console.log("generate START!");const a=new ye("AIzaSyBrdNobChTsFJ-ai5e3LlaTm1NZDogpWzM").getGenerativeModel({model:"gemini-1.5-flash"});let n="English phonetic symbols";t.nativeLanguage==="japanese"?n="hiragana":t.nativeLanguage==="korean"?n="Revised Romanization of Korean":t.nativeLanguage==="chinese"&&(n="Pinyin");let r=`Generate words related to ${t.learningGoal} in ${t.nativeLanguage}.`;if(t.learningGoalType==="general"){const D=[{part:"noun",probability:.3},{part:"pronoun",probability:.1},{part:"numeral",probability:.05},{part:"verb",probability:.2},{part:"adjective",probability:.15},{part:"determiner",probability:.05},{part:"adverb",probability:.1},{part:"particle",probability:.05}];let S=0;for(const b of D)S+=b.probability;let I=Math.random()*S,m="";for(const b of D)if(I-=b.probability,I<=0){m=b.part;break}r=`
  Difficulty levels are defined as: beginner, intermediate, advanced.
  Selected difficulty: ${t.difficulty}.
  Generate a word in ${t.nativeLanguage} that is a ${m}.
  `}else t.learningGoalType==="topic"&&(r=`Give me one ${t.nativeLanguage} phrase that is useful for ${t.learningGoal}.`);const c=`

${r}
The 'meaning' should be in ${t.targetLanguage}.
The 'reading' should be in ${n} phonetic symbols.
The 'part of speech' should be written in ${t.targetLanguage}.

Do not include words that have already been generated.
Previously generated words: ${t.generatedWords.join(", ")}. 
Output the word information as an 'object' in the following format: {"wordData": {"partOfSpeech": "", "word": "", "reading": "", "meaning": ""}}. 
Only output the 'object', no other words.`;let d=0;const g=3;for(;d<g;)try{const S=await(await a.generateContent(c)).response.text();console.log("response:",S);const m=/{"wordData": {"partOfSpeech": "(.*)", "word": "(.*)", "reading": "(.*)", "meaning": "(.*)"}}/.exec(S);if(m){const b={partOfSpeech:m[1],word:m[2],reading:m[3],meaning:m[4]};if(t.generatedWords.includes(b.word))console.log("\uC774\uBBF8 \uC0DD\uC131\uB41C \uB2E8\uC5B4\uC785\uB2C8\uB2E4.");else{console.log("wordData:",b),e("SET_WORD_DATA",b),e("ADD_GENERATED_WORD",b.word),o("status/stopLoading",{},{root:!0});return}}else throw console.error("JSON \uB370\uC774\uD130\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."),new Error("JSON \uB370\uC774\uD130\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.")}catch(D){if(console.error("\uC624\uB958 \uBC1C\uC0DD:",D),d++,D.message.includes("503"))console.log(`\uC7AC\uC2DC\uB3C4 ${d}\uD68C`),await new Promise(S=>setTimeout(S,2e3));else throw D}console.error("\uCD5C\uB300 \uC7AC\uC2DC\uB3C4 \uD69F\uC218 \uCD08\uACFC")},changenativeLanguage({commit:e},t){e("SET_SOURCE_LANGUAGE",t)},changeTargetLanguage({commit:e},t){e("SET_TARGET_LANGUAGE",t)}},getters:{getWord:e=>e}},qe={namespaced:!0,state:{isLoading:!1},mutations:{setLoading(e,t){e.isLoading=t}},actions:{startLoading({commit:e}){e("setLoading",!0)},stopLoading({commit:e}){e("setLoading",!1)}},getters:{isLoading(e){return e.isLoading}}},Ve={apiKey:"AIzaSyC0961QpZqkQlchSbeAZ0dvywQh1my2hbE",authDomain:"ankitoki.firebaseapp.com",projectId:"ankitoki",storageBucket:"ankitoki.appspot.com",messagingSenderId:"873952892092",appId:"1:873952892092:web:e7c46b6b2846b05e126cb9",measurementId:"G-E19JLRGDNQ"},J=me(Ve);we(J);const l=ve(J),E=re(J);P(J);const Ke={namespaced:!0,state:()=>({user:null,users:[]}),mutations:{setUser(e,t){e.user=t},setUsers(e,t){e.users=t}},actions:{async initAuthState({dispatch:e,commit:t}){console.log("initAuthState"),E.onAuthStateChanged(async o=>{o?(console.log("user: ",o),t("setUser",o),await Promise.all([e("vocas/getVocasByUserID",{},{root:!0}),e("favorites/getFavoritesByUserID",{},{root:!0}),e("checkedWords/getCheckedWordsByUserID",{},{root:!0})])):t("setUser",null)})},async signInWithGoogle({commit:e,dispatch:t}){try{const o=new ke,s=await De(E,o);e("setUser",s.user);const a=u(l,"users",s.user.uid);(await j(a)).exists()||await B(a,{email:s.user.email,displayName:s.user.displayName||"",state:"user",photoURL:s.user.photoURL||"",createdAt:new Date})}catch(o){throw o}},async returnUserByPayload({state:e,commit:t},o){try{if(!o)throw new Error("\uD604\uC7AC \uC120\uD0DD\uB41C \uB2E8\uC5B4\uC7A5 ID\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");const s=u(l,"users",o),a=await j(s);return a.exists()?{id:a.id,...a.data()}:(console.log("\uD574\uB2F9 ID\uB97C \uAC00\uC9C4 userID \uC5C6\uC2B5\uB2C8\uB2E4."),null)}catch(s){throw console.error("userID \uAC00\uC838\uC624\uAE30 \uC2E4\uD328:",s),s}},async signIn({commit:e},{email:t,password:o}){try{const s=await Ie(E,t,o);e("setUser",s.user)}catch(s){throw s}},async register({commit:e,dispatch:t},{email:o,password:s,displayName:a,file:n}){try{await t("checkDisplayName",a);const r=await se(E,o,s);await Z(r.user,{displayName:a}),e("setUser",r.user);const c=u(l,"users",r.user.uid);await B(c,{email:o,displayName:a,state:"user",createdAt:new Date}),n&&await t("profileImages/uploadProfileImage",{userId:r.user.uid,file:n},{root:!0})}catch(r){throw r}},async fetchAllUsers({commit:e}){try{const t=p(l,"users"),o=await w(t),s=[];o.forEach(a=>{s.push({id:a.id,...a.data()})}),e("setUsers",s)}catch(t){console.error("\uB2E8\uC5B4\uC7A5 \uB9AC\uC2A4\uD2B8 \uBD88\uB7EC\uC624\uAE30 \uC2E4\uD328:",t)}},async getUserById({state:e,commit:t},o){console.log("getUserById\uC2E4\uD589::",o);try{if(!o)throw new Error("\uD604\uC7AC \uC120\uD0DD\uB41C \uC720\uC800 ID\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");const s=u(l,"users",o),a=await j(s);if(a.exists()){const n={id:a.id,...a.data()};return console.log("\uC720\uC800 \uB370\uC774\uD130:",n),n}else return console.log("\uD574\uB2F9 ID\uB97C \uAC00\uC9C4 \uC720\uC800\uC774 \uC5C6\uC2B5\uB2C8\uB2E4."),null}catch(s){throw console.error("\uC720\uC800 \uAC00\uC838\uC624\uAE30 \uC2E4\uD328:",s),s}},async register({commit:e,dispatch:t},{email:o,password:s,displayName:a,file:n}){try{await t("checkDisplayName",a);const r=await se(E,o,s);await Z(r.user,{displayName:a}),e("setUser",r.user);const c=u(l,"users",r.user.uid);await B(c,{email:o,displayName:a,state:"user",createdAt:new Date}),n&&await t("profileImages/uploadProfileImage",{userId:r.user.uid,file:n},{root:!0})}catch(r){throw r}},async checkDisplayName({commit:e},t){const o=p(l,"users"),s=$(o,v("displayName","==",t));if(!(await w(s)).empty)throw new Error("displayName already exists")},async signOut({commit:e}){try{await $e(E)}catch(t){throw t}},ensureAuthReady({state:e}){return new Promise(t=>{if(e.user)t();else{const o=E.onAuthStateChanged(s=>{o(),t()})}})},async deleteUser({dispatch:e},t){try{console.log("\uC720\uC800 \uC0AD\uC81C \uC9C4\uD589");const o=u(l,"users",t);await W(o),await e("profileImages/deleteProfileImage",t,{root:!0}),await e("vocas/deleteVocasByUserID",t,{root:!0}),await e("words/deleteWordsByUserID",t,{root:!0}),console.log("\uC0AC\uC6A9\uC790 \uBC0F \uAD00\uB828 \uB370\uC774\uD130 \uC0AD\uC81C\uAC00 \uC644\uB8CC\uB418\uC5C8\uC2B5\uB2C8\uB2E4.")}catch(o){throw console.error("\uC0AC\uC6A9\uC790 \uC0AD\uC81C \uC911 \uC624\uB958 \uBC1C\uC0DD: ",o),o}}},getters:{getUserID:e=>e.user?e.user.uid:null,getDisplayName:e=>e.user?e.user.displayName:null,getPhotoURL:e=>e.user?e.user.photoURL:null,isAuthenticated(e){return!!e.user},getUser:e=>e.user,getUsers:e=>e.users}},Oe={namespaced:!0,state:{vocas:[],voca:null,vocaID:null},mutations:{setVocas(e,t){e.vocas=t},setVoca(e,t){e.voca=t},setVocaID(e,t){e.vocaID=t}},actions:{async getVocasByUserID({commit:e,dispatch:t,rootGetters:o}){try{await t("users/ensureAuthReady",{},{root:!0});const s=o["users/getUserID"];if(console.log("userID111:",s),!s)throw new Error("\uC0AC\uC6A9\uC790 \uC778\uC99D \uC815\uBCF4\uAC00 \uB204\uB77D\uB418\uC5C8\uC2B5\uB2C8\uB2E4.");const a=p(l,"vocas"),n=$(a,v("userID","==",s),ae("createdAt","desc")),r=await w(n),c=[];r.forEach(d=>{c.push({id:d.id,...d.data()})}),e("setVocas",c)}catch(s){console.error("\uB2E8\uC5B4\uC7A5 \uB9AC\uC2A4\uD2B8 \uBD88\uB7EC\uC624\uAE30 \uC2E4\uD328:",s)}},async getVocaByPayload({state:e,commit:t},o){try{if(console.log("vocaID::::",o),!o)throw new Error("\uD604\uC7AC \uC120\uD0DD\uB41C \uB2E8\uC5B4\uC7A5 ID\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");const s=u(l,"vocas",o),a=await j(s);if(a.exists()){const n={id:a.id,...a.data()};console.log("\uB2E8\uC5B4\uC7A5 \uB370\uC774\uD130:",n),t("setVoca",n)}else return console.log("\uD574\uB2F9 ID\uB97C \uAC00\uC9C4 \uB2E8\uC5B4\uC7A5\uC774 \uC5C6\uC2B5\uB2C8\uB2E4."),null}catch(s){throw console.error("\uB2E8\uC5B4\uC7A5 \uAC00\uC838\uC624\uAE30 \uC2E4\uD328:",s),s}},async returnVocaByPayload({state:e,commit:t},o){try{if(!o)throw new Error("\uD604\uC7AC \uC120\uD0DD\uB41C \uB2E8\uC5B4\uC7A5 ID\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");const s=u(l,"vocas",o),a=await j(s);if(a.exists()){const n={id:a.id,...a.data()};return console.log("\uB2E8\uC5B4\uC7A5 \uB370\uC774\uD130:",n),n}else return console.log("\uD574\uB2F9 ID\uB97C \uAC00\uC9C4 \uB2E8\uC5B4\uC7A5\uC774 \uC5C6\uC2B5\uB2C8\uB2E4."),null}catch(s){throw console.error("\uB2E8\uC5B4\uC7A5 \uAC00\uC838\uC624\uAE30 \uC2E4\uD328:",s),s}},async returnAllVocas({commit:e}){try{const t=p(l,"vocas"),o=$(t,ae("createdAt","desc")),s=await w(o),a=[];return s.forEach(n=>{a.push({id:n.id,...n.data()})}),a}catch(t){console.error("\uC804\uCCB4 \uB2E8\uC5B4\uC7A5 \uB9AC\uC2A4\uD2B8 \uBD88\uB7EC\uC624\uAE30 \uC2E4\uD328:",t)}},async updateVocaByPayload({dispatch:e,state:t},{vocaID:o,payload:s}){try{const a=u(l,"vocas",o),n=Object.keys(s).reduce((r,c)=>(s[c]!==void 0&&(r[c]=s[c]),r),{});Object.keys(n).length>0?(await C(a,n),console.log("\uB2E8\uC5B4\uC7A5 \uC5C5\uB370\uC774\uD2B8 \uC131\uACF5")):console.log("\uC5C5\uB370\uC774\uD2B8\uD560 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."),await e("getVocasByUserID")}catch(a){throw console.error("\uB2E8\uC5B4\uC7A5 \uC5C5\uB370\uC774\uD2B8 \uC911 \uC624\uB958 \uBC1C\uC0DD:",a),a}},async createVoca({dispatch:e,rootGetters:t},{language:o,title:s,content:a,share:n,file:r}){try{const c=t["users/getUserID"],d=t["users/getDisplayName"],g=t["users/getPhotoURL"];console.log("userID:",c),console.log("displayName:",d);const D=p(l,"vocas"),S={language:o,title:s,content:a,share:n,createdAt:new Date,userID:c,displayName:d,photoURL:g},I=await H(D,S);let m=null;r&&(m=await e("vocaImages/uploadVocaImagesByPayload",{vocaID:I.id,file:r},{root:!0}),m&&await C(u(l,"vocas",I.id),{coverURL:m})),await e("getVocasByUserID")}catch(c){throw c}},async deleteVocaByPayload({dispatch:e,state:t},o){console.log("\uB2E8\uC5B4\uC7A5 \uC0AD\uC81C");try{const s=u(l,"vocas",o);console.log("\uB2E8\uC5B4\uC7A5 \uC774\uBBF8\uC9C0 \uC0AD\uC81C"),await e("vocaImages/deleteVocaImagesByPayload",o,{root:!0}),console.log("\uB2E8\uC5B4\uC7A5 \uB2E8\uC5B4 \uC0AD\uC81C"),await e("words/deleteWordsByPayload",o,{root:!0}),console.log("\uCCB4\uD06C\uB2E8\uC5B4 \uC0AD\uC81C"),await e("checkedWords/deleteCheckedWordsByCurrentVocaID",o,{root:!0}),console.log("\uB2E8\uC5B4\uC7A5 \uC0AD\uC81C"),await e("favorites/deleteFavoritesByPayload",o,{root:!0}),await W(s),await e("getVocasByUserID")}catch(s){throw console.error("\uB2E8\uC5B4\uC7A5 \uBC0F \uB2E8\uC5B4 \uC0AD\uC81C \uC911 \uC624\uB958 \uBC1C\uC0DD:",s),s}},async updateVocaIDByPayload({commit:e},t){try{e("setVocaID",t)}catch(o){throw console.error("\uB2E8\uC5B4\uC7A5 \uC5C5\uB370\uC774\uD2B8 \uC911 \uC624\uB958 \uBC1C\uC0DD:",o),o}}},getters:{getVoca:e=>e.voca,getVocas:e=>e.vocas,getVocaID:e=>e.vocaID}},Ge={namespaced:!0,state:()=>({userProfile:{}}),mutations:{setUserProfile(e,t){e.userProfile=t}},actions:{async updateVocaImageByPayload({commit:e,rootGetters:t},{vocaID:o,file:s}){const a=P(),n=O(a,`vocaImages/${o}`);try{await X(n,s);const r=await T(n),c=u(l,"vocaImages",o);return await B(c,{url:r},{merge:!0}),r}catch(r){return console.error("Error updating voca image: ",r),null}},async deleteVocaImagesByPayload({commit:e},t){console.log("\uB2E8\uC5B4\uC774\uBBF8\uC9C0 \uC0AD\uC81C \uC2DC\uC791",t);const o=P(),s=O(o,`vocaImages/${t}`);try{await ce(s),console.log("File deleted successfully");const a=u(l,"vocaImages",t);await W(a),console.log("Document deleted successfully")}catch(a){console.error("Error occurred while deleting the file or document:",a)}},async uploadVocaImagesByPayload({commit:e},{vocaID:t,file:o}){const s=P(),a=O(s,`vocaImages/${t}`);try{await X(a,o);const n=await T(a),r=u(l,"vocaImages",t);return await B(r,{url:n},{merge:!0}),n}catch(n){return console.error("\uD504\uB85C\uD544 \uC774\uBBF8\uC9C0 \uC5C5\uB85C\uB4DC \uB610\uB294 Firebase Authentication\uC758 coverURL \uC5C5\uB370\uC774\uD2B8 \uC911 \uC624\uB958 \uBC1C\uC0DD: ",n),null}}},getters:{userProfile(e){return e.userProfile}}},Ne={namespaced:!0,state:()=>({checkedWords:[]}),mutations:{setCheckedWords(e,t){console.log("@MUTATIONS: setCheckedWords!",t),e.checkedWords=t}},actions:{async getCheckedWordsByUserID({commit:e,dispatch:t,rootGetters:o}){try{const s=o["users/getUserID"];if(!s)throw new Error("\uC0AC\uC6A9\uC790 \uC778\uC99D \uC815\uBCF4\uAC00 \uB204\uB77D\uB418\uC5C8\uC2B5\uB2C8\uB2E4.");const a=p(l,"checkedWords"),n=$(a,v("userID","==",s)),r=await w(n),c=[];r.forEach(d=>{c.push({id:d.id,...d.data()})}),e("setCheckedWords",c)}catch(s){console.error("\uB2E8\uC5B4\uC7A5 \uB9AC\uC2A4\uD2B8 \uBD88\uB7EC\uC624\uAE30 \uC2E4\uD328:",s)}},async deleteCheckedWordsByCurrentVocaID({rootGetters:e,dispatch:t},o){try{const s=p(l,"checkedWords"),a=$(s,v("vocaID","==",o)),n=await w(a),r=ee(l);n.forEach(c=>{const d=u(l,"checkedWords",c.id);r.delete(d)}),await r.commit(),console.log("vocaID\uC5D0 \uD574\uB2F9\uD558\uB294 \uBAA8\uB4E0 \uB2E8\uC5B4 \uC0AD\uC81C \uC644\uB8CC:",o),await t("getCheckedWordsByUserID")}catch(s){throw console.error("\uB2E8\uC5B4 \uC0AD\uC81C \uC911 \uC624\uB958 \uBC1C\uC0DD:",s),s}},async toggleCheckedWordByPayload({dispatch:e,rootGetters:t},o){try{const s=t["study/getWordID"],a=t["users/getUserID"];if(!s||!a||!o){s||console.log("wordID\uAC00 \uC720\uD6A8\uD558\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4:",s),a||console.log("userID \uC720\uD6A8\uD558\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4:",a),o||console.log("vocaID \uC720\uD6A8\uD558\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4:",o);return}console.log("@FIREBASE: toggleCheckedWord!",s,a,o);const n=p(l,"checkedWords"),r=$(n,v("userID","==",a),v("vocaID","==",o),v("wordID","==",s)),c=await w(r);if(c.empty){const d={userID:a,vocaID:o,wordID:s,createdAt:new Date};await H(n,d),await e("study/setNext",null,{root:!0})}else c.forEach(async d=>{await W(d.ref)});await e("getCheckedWordsByUserID")}catch(s){throw console.error("Error toggling checked word:",s),s}},async deleteCheckedWordByPayload({rootGetters:e,dispatch:t},o){try{const s=e["users/getUserID"],a=p(l,"checkedWords"),n=$(a,v("wordID","==",o),v("userID","==",s));(await w(n)).forEach(async c=>{await W(c.ref)}),await t("getCheckedWordsByUserID")}catch(s){throw console.error("\uB2E8\uC5B4 \uC0AD\uC81C \uC911 \uC624\uB958 \uBC1C\uC0DD:",s),s}},async verifyChecked({rootGetters:e,state:t}){try{const o=e["study/getWordID"],s=t.checkedWords;return console.log("verifyChecked:wordID:",o),console.log("checkedWords:wordID:",s),s.some(n=>n.wordID===o)}catch(o){throw console.error("\uAC80\uC99D \uC911 \uC624\uB958 \uBC1C\uC0DD:",o),o}}},getters:{getCheckedWords(e){return e.checkedWords}}},Te={namespaced:!0,state:{words:[]},mutations:{setWords(e,t){e.words=t},removeWord(e,t){e.words=e.words.filter(o=>o.id!==t)},addWord(e,t){e.words.unshift(t)},updateWordInState(e,{wordID:t,updateData:o}){const s=e.words.findIndex(a=>a.id===t);s!==-1&&(e.words[s]={...e.words[s],...o})}},actions:{async createWord({commit:e,dispatch:t,rootGetters:o},{word:s,mean:a,examples:n,vocaID:r}){try{const c=o["users/getUserID"],d=p(l,"words"),g={vocaID:r,userID:c,createdAt:new Date,word:s,mean:a,examples:n},S={id:(await H(d,g)).id,...g};e("addWord",S)}catch(c){throw c}},async deleteWordsByPayload({rootGetters:e,dispatch:t},o){try{const s=p(l,"words"),a=$(s,v("vocaID","==",o)),n=await w(a),r=ee(l);n.forEach(c=>{const d=u(l,"words",c.id);r.delete(d)}),await r.commit(),console.log("vocaID\uC5D0 \uD574\uB2F9\uD558\uB294 \uBAA8\uB4E0 \uB2E8\uC5B4 \uC0AD\uC81C \uC644\uB8CC:",o)}catch(s){throw console.error("\uB2E8\uC5B4 \uC0AD\uC81C \uC911 \uC624\uB958 \uBC1C\uC0DD:",s),s}},async deleteWordByPayload({commit:e,state:t},o){try{const s=u(l,"words",o);await W(s),e("removeWord",o)}catch(s){throw s}},async returnWordByPayload({state:e,commit:t},o){try{if(!o)throw new Error("\uD604\uC7AC \uC120\uD0DD\uB41C \uB2E8\uC5B4\uC7A5 ID\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");console.log("currentWordID: ",o);const s=u(l,"words",o),a=await j(s);if(a.exists()){const n={id:a.id,...a.data()};return console.log("\uB2E8\uC5B4\uC7A5 \uB370\uC774\uD130:",n),n}else return console.log("\uD574\uB2F9 ID\uB97C \uAC00\uC9C4 \uB2E8\uC5B4\uC7A5\uC774 \uC5C6\uC2B5\uB2C8\uB2E4."),null}catch(s){throw console.error("\uB2E8\uC5B4\uC7A5 \uAC00\uC838\uC624\uAE30 \uC2E4\uD328:",s),s}},async updateWordByPayload({commit:e,state:t},{wordID:o,payload:s}){try{const a=u(l,"words",o),n=Object.keys(s).reduce((r,c)=>(s[c]!==void 0&&(r[c]=s[c]),r),{});Object.keys(n).length>0?(await C(a,n),console.log("\uB2E8\uC5B4\uC7A5 \uC5C5\uB370\uC774\uD2B8 \uC131\uACF5"),e("updateWordInState",{wordID:o,updateData:n})):console.log("\uC5C5\uB370\uC774\uD2B8\uD560 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.")}catch(a){throw console.error("\uB2E8\uC5B4\uC7A5 \uC5C5\uB370\uC774\uD2B8 \uC911 \uC624\uB958 \uBC1C\uC0DD:",a),a}},async getWordsByPayload({commit:e,rootGetters:t},o){console.log("fetchWords!!");try{const s=p(l,"words"),a=$(s,v("vocaID","==",o)),n=await w(a),r=[];n.forEach(c=>{r.push({id:c.id,...c.data()})}),e("setWords",r)}catch(s){console.error("\uB2E8\uC5B4 \uBD88\uB7EC\uC624\uAE30 \uC2E4\uD328:",s)}},async returnWordsByPayload({commit:e,rootGetters:t},o){if(console.log("returnWordsByPayload!!",o),!o){console.error("vocaID\uAC00 \uC81C\uACF5\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.");return}try{const s=p(l,"words"),a=$(s,v("vocaID","==",o)),n=await w(a),r=[];return n.forEach(c=>{r.push({id:c.id,...c.data()})}),r}catch(s){console.error("\uB2E8\uC5B4 \uBD88\uB7EC\uC624\uAE30 \uC2E4\uD328:",s)}},async resetWords({commit:e}){console.log("words Null\uC744 \uC124\uC815\uD569\uB2C8\uB2E4. "),e("setWords",null)}},getters:{getWords:e=>e.words}},Me={namespaced:!0,state:{kanjis:[],searchResults:[]},mutations:{setKanjis(e,t){e.kanjis=t},setSearchResults(e,t){e.searchResults=t},removeKanji(e,t){e.kanjis=e.kanjis.filter(o=>o.id!==t)},addKanji(e,t){e.kanjis.unshift(t)},updateKanjiInState(e,{kanjiID:t,updateData:o}){const s=e.kanjis.findIndex(a=>a.id===t);s!==-1&&(e.kanjis[s]={...e.kanjis[s],...o})}},actions:{async getKanjis({commit:e}){console.log("getget");try{const t=p(l,"kanjis"),o=await w(t),s=[];o.forEach(a=>{s.push({id:a.id,...a.data()})}),e("setKanjis",s)}catch(t){console.error("\uB2E8\uC5B4 \uBD88\uB7EC\uC624\uAE30 \uC2E4\uD328:",t)}},async createKanji({commit:e,dispatch:t,rootGetters:o},{kanji:s,jlpt:a,mean:n,goon:r,hoon:c,kun:d,comment:g,goonDetail:D,kunDetail:S,unicode:I}){try{const m=p(l,"kanjis"),b=u(m,I);if((await j(b)).exists())throw new Error(`${I} \uAC12\uC744 \uAC00\uC9C4 \uB2E8\uC5B4\uAC00 \uC774\uBBF8 \uC874\uC7AC\uD569\uB2C8\uB2E4.`);const K={createdAt:new Date,kanji:s,jlpt:a,mean:n,goon:r,hoon:c,kun:d,comment:g,goonDetail:D,kunDetail:S,unicode:I};await B(b,K),e("addKanji",{...K,id:I})}catch(m){throw m}},async deleteKanjiByPayload({commit:e,state:t},o){try{const s=u(l,"kanjis",o);await W(s),e("removeKanji",o)}catch(s){throw s}},async returnKanjiByPayload({commit:e},t){console.log("currentKanjiID: ",t);try{if(!t)throw new Error("\uD604\uC7AC \uC120\uD0DD\uB41C \uB2E8\uC5B4\uC7A5 ID\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");const o=u(l,"kanjis",t),s=await j(o);if(s.exists()){const a=s.data(),n={id:s.id,kanji:a.kanji,jlpt:a.jlpt,mean:a.mean,goon:a.goon,hoon:a.hoon,kun:a.kun,comment:a.comment,goonDetail:a.goonDetail,kunDetail:a.kunDetail,createdAt:a.createdAt.toDate()};return console.log("\uB2E8\uC5B4\uC7A5 \uB370\uC774\uD130:",n),n}else return console.log("\uD574\uB2F9 ID\uB97C \uAC00\uC9C4 \uB2E8\uC5B4\uC7A5\uC774 \uC5C6\uC2B5\uB2C8\uB2E4."),null}catch(o){throw console.error("\uB2E8\uC5B4\uC7A5 \uAC00\uC838\uC624\uAE30 \uC2E4\uD328:",o),o}},async updateKanjiByPayload({commit:e,state:t},{kanjiID:o,payload:s}){try{const a=u(l,"kanjis",o),n=Object.keys(s).reduce((r,c)=>(s[c]!==void 0&&(r[c]=s[c]),r),{});Object.keys(n).length>0?(await C(a,n),console.log("\uB2E8\uC5B4\uC7A5 \uC5C5\uB370\uC774\uD2B8 \uC131\uACF5"),e("updateKanjiInState",{kanjiID:o,updateData:n})):console.log("\uC5C5\uB370\uC774\uD2B8\uD560 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.")}catch(a){throw console.error("\uB2E8\uC5B4\uC7A5 \uC5C5\uB370\uC774\uD2B8 \uC911 \uC624\uB958 \uBC1C\uC0DD:",a),a}},async checkDuplicateByPayload({commit:e},t){try{const o=u(l,"kanjis",t);return(await j(o)).exists()}catch(o){throw console.error("Failed to check for duplicate kanji ID:",o),o}},async searchKanjis({commit:e},t){try{const o=p(l,"kanjis"),a=["kanji","jlpt","mean","goon","hoon","kun","comment"].map(c=>$(o,v(c,"==",t))),n=[],r=new Set;for(const c of a)(await w(c)).forEach(g=>{r.has(g.id)||(r.add(g.id),n.push({id:g.id,...g.data()}))});return e("setSearchResults",n),n}catch(o){throw console.error("\uAC80\uC0C9 \uC2E4\uD328:",o),o}}},getters:{getKanjis:e=>e.kanjis,getSearchResults:e=>e.searchResults}},ze={namespaced:!0,state:{kanjiList:["\u653F","\u515A","\u7D4C","\u73FE","\u6027","\u5236","\u52D9","\u7DCF","\u9818","\u8A2D","\u4FDD","\u6A29","\u652F","\u5831","\u6E08","\u89E3","\u8CC7","\u969B","\u67FB","\u5224","\u8A8D","\u5728","\u4EF6","\u56E3","\u4EFB","\u8AD6","\u5897","\u60C5","\u793A","\u57FA","\u9769","\u4FA1","\u78BA","\u52E2","\u6E1B","\u5BB9","\u5FDC","\u6F14","\u6B73","\u80FD","\u518D","\u683C","\u7591","\u904E","\u7A0E","\u691C","\u5E38","\u72B6","\u55B6","\u8077","\u4E0E","\u4F9B","\u53EF","\u69CB","\u5272","\u6BD4","\u96E3","\u9632","\u88DC","\u512A","\u53CE","\u65AD","\u9055","\u5883","\u898F","\u8853","\u5C55","\u5C0E","\u5099","\u5B85","\u6761","\u72EC","\u8B66","\u8F38","\u8A2A","\u8FF0","\u7387","\u6B66","\u57DF","\u5F35","\u9650","\u984D","\u74B0","\u6B27","\u62C5","\u9000","\u6E96","\u9020","\u88AB","\u6280","\u5FA9","\u6E21","\u79FB","\u500B","\u8A55","\u82E5","\u8133","\u542B","\u8535","\u975E","\u6BB5","\u88FD","\u6CC1","\u8CA1","\u8B58","\u547C","\u91DD","\u5C02","\u7A0B","\u5024","\u7A81","\u63A5","\u6388","\u52B9","\u6E7E","\u51E6","\u65E7","\u5426","\u5E2B","\u6279","\u6613","\u5B58","\u5238","\u5EA7","\u7834","\u7DE8","\u635C","\u9664","\u964D","\u8D85","\u8CAC","\u4E26","\u7642","\u4FEE","\u6355","\u5371","\u63A1","\u62E1","\u6545","\u4ECB","\u8FCE","\u8CA9","\u7570","\u5C06","\u56E0","\u5E45","\u5BCC","\u5F7C","\u822C","\u8CBF","\u8B1B","\u821E","\u88C5","\u8AF8","\u4EA1","\u5287","\u6CB3","\u9069","\u5A66","\u5BC4","\u8FBC","\u4F59","\u7981","\u9006","\u63DB","\u4E45","\u59BB","\u66B4","\u5360","\u80CC","\u967A","\u983C","\u5747","\u9014","\u5727","\u8A31","\u7F72","\u629C","\u4F38","\u7559","\u7F6A","\u7206","\u5EF6","\u7CBE","\u5247","\u4E71","\u666E","\u6E2C","\u8C4A","\u5584","\u5A5A","\u539A","\u9F62","\u7565","\u627F","\u6D6E","\u7D76","\u62BC","\u5012","\u4E86","\u5E81","\u57CE","\u5C64","\u7248","\u7D61","\u640D","\u52DF","\u88CF","\u6255","\u4ECF","\u7E3E","\u7BC9","\u5FD7","\u6DF7","\u6607","\u52E4","\u9045","\u5C45","\u96D1","\u62DB","\u56F0","\u6C38","\u8457","\u8A8C","\u520A","\u50CF","\u9999","\u66F4","\u523B","\u8CDB","\u62B1","\u72AF","\u5E03","\u6050","\u5B87","\u623B","\u5DE8","\u9707","\u8D8A","\u6B32","\u75DB","\u89E6","\u4F9D","\u6C5A","\u679A","\u4E92","\u8907","\u90F5","\u4F3C","\u6075","\u63A2","\u9003","\u9AA8","\u50BE","\u5C4A","\u8FF7","\u5922","\u5DFB","\u71C3","\u9589","\u7DD2","\u99D0","\u8CC3","\u7D39","\u96C7","\u66AE","\u66FF","\u9810","\u7C21","\u81D3","\u5F8B","\u8D08","\u5B99","\u8584","\u7FA4","\u64CD","\u5965","\u8A70","\u53CC","\u523A","\u5230","\u5BDD","\u58C1","\u4EEE","\u7D14","\u76D7","\u5438","\u770B","\u7FCC","\u5FEB","\u7247","\u656C","\u60A9","\u6CC9","\u5FA1","\u8352","\u786C","\u57CB","\u888B","\u5FD8","\u5439","\u5B9D","\u5C01","\u80F8","\u5A18","\u7802","\u8AA4","\u8CE2","\u8155","\u8F03","\u5E8A","\u6163","\u5C0A","\u7A93","\u67D4","\u6BBF","\u6FC3","\u6DB2","\u8CA7","\u80A9","\u96F6","\u6012","\u7956","\u5E7C","\u6CCA","\u676F","\u7518","\u6383","\u6398","\u75B2","\u6368","\u7686","\u8EDF","\u6C88","\u51CD","\u8179","\u4E73","\u7159","\u604B","\u7D05","\u90CA","\u8170","\u8E0A","\u518A","\u7720","\u6016","\u73CD","\u5375","\u72ED","\u55AB","\u5E72","\u9802","\u6EB6","\u6696","\u9271","\u6D99","\u5339","\u92ED","\u679D","\u5857","\u8ED2","\u6669","\u53EB","\u62DD","\u4E7E","\u68D2","\u7948","\u9AEA","\u5FD9","\u7DBF","\u6C57","\u9285","\u6E7F","\u54B2","\u53EC","\u8102","\u84B8","\u808C","\u9774","\u8015","\u920D","\u6065","\u6CE5","\u9685","\u5076","\u8F9B","\u78E8","\u59D3","\u7B52","\u7C92","\u8A5E","\u5049","\u7573","\u673A","\u819A","\u6FEF","\u732B","\u5854","\u6CB8","\u7070","\u83D3","\u5E3D","\u67AF","\u6DBC","\u821F","\u7B26","\u618E","\u80AF","\u71E5","\u755C","\u574A","\u631F","\u66C7","\u6EF4","\u4F3A"],missingKanjis:[]},mutations:{setKanjis(e,t){e.kanjis=t},setSearchResults(e,t){e.searchResults=t},setMissingKanjis(e,t){e.missingKanjis=t},removeKanji(e,t){e.kanjis=e.kanjis.filter(o=>o.id!==t)},addKanji(e,t){e.kanjis.unshift(t)},updateKanjiInState(e,{kanjiID:t,updateData:o}){const s=e.kanjis.findIndex(a=>a.id===t);s!==-1&&(e.kanjis[s]={...e.kanjis[s],...o})}},actions:{async getKanjis({commit:e}){console.log("getget");try{const t=p(l,"kanjis"),o=await w(t),s=[];o.forEach(a=>{s.push({id:a.id,...a.data()})}),e("setKanjis",s)}catch(t){console.error("\uB2E8\uC5B4 \uBD88\uB7EC\uC624\uAE30 \uC2E4\uD328:",t)}},async createKanji({commit:e,dispatch:t,rootGetters:o},{kanji:s,jlpt:a,mean:n,goon:r,hoon:c,kun:d,comment:g,goonDetail:D,kunDetail:S,unicode:I}){try{const m=p(l,"kanjis"),b=u(m,I);if((await j(b)).exists())throw new Error(`${I} \uAC12\uC744 \uAC00\uC9C4 \uB2E8\uC5B4\uAC00 \uC774\uBBF8 \uC874\uC7AC\uD569\uB2C8\uB2E4.`);const K={createdAt:new Date,kanji:s,jlpt:a,mean:n,goon:r,hoon:c,kun:d,comment:g,goonDetail:D,kunDetail:S,unicode:I};await B(b,K),e("addKanji",{...K,id:I})}catch(m){throw m}},async deleteKanjiByPayload({commit:e,state:t},o){try{const s=u(l,"kanjis",o);await W(s),e("removeKanji",o)}catch(s){throw s}},async returnKanjiByPayload({commit:e},t){console.log("currentKanjiID: ",t);try{if(!t)throw new Error("\uD604\uC7AC \uC120\uD0DD\uB41C \uB2E8\uC5B4\uC7A5 ID\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");const o=u(l,"kanjis",t),s=await j(o);if(s.exists()){const a=s.data(),n={id:s.id,kanji:a.kanji,jlpt:a.jlpt,mean:a.mean,goon:a.goon,hoon:a.hoon,kun:a.kun,comment:a.comment,goonDetail:a.goonDetail,kunDetail:a.kunDetail,createdAt:a.createdAt.toDate()};return console.log("\uB2E8\uC5B4\uC7A5 \uB370\uC774\uD130:",n),n}else return console.log("\uD574\uB2F9 ID\uB97C \uAC00\uC9C4 \uB2E8\uC5B4\uC7A5\uC774 \uC5C6\uC2B5\uB2C8\uB2E4."),null}catch(o){throw console.error("\uB2E8\uC5B4\uC7A5 \uAC00\uC838\uC624\uAE30 \uC2E4\uD328:",o),o}},async updateKanjiByPayload({commit:e,state:t},{kanjiID:o,payload:s}){try{const a=u(l,"kanjis",o),n=Object.keys(s).reduce((r,c)=>(s[c]!==void 0&&(r[c]=s[c]),r),{});Object.keys(n).length>0?(await C(a,n),console.log("\uB2E8\uC5B4\uC7A5 \uC5C5\uB370\uC774\uD2B8 \uC131\uACF5"),e("updateKanjiInState",{kanjiID:o,updateData:n})):console.log("\uC5C5\uB370\uC774\uD2B8\uD560 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.")}catch(a){throw console.error("\uB2E8\uC5B4\uC7A5 \uC5C5\uB370\uC774\uD2B8 \uC911 \uC624\uB958 \uBC1C\uC0DD:",a),a}},async checkDuplicateByPayload({commit:e},t){try{const o=u(l,"kanjis",t);return(await j(o)).exists()}catch(o){throw console.error("Failed to check for duplicate kanji ID:",o),o}},async searchKanjis({commit:e},t){try{const o=p(l,"kanjis"),a=["kanji","jlpt","mean","goon","hoon","kun","comment"].map(c=>$(o,v(c,"==",t))),n=[],r=new Set;for(const c of a)(await w(c)).forEach(g=>{r.has(g.id)||(r.add(g.id),n.push({id:g.id,...g.data()}))});return e("setSearchResults",n),n}catch(o){throw console.error("\uAC80\uC0C9 \uC2E4\uD328:",o),o}},async compareKanjis({commit:e,state:t}){console.log("compareKanjis!!");try{const o=p(l,"kanjis"),s=await w(o),a=new Set;s.forEach(r=>{a.add(r.data().kanji)});const n=t.kanjiList.filter(r=>!a.has(r));e("setMissingKanjis",n)}catch(o){throw console.error("\uD55C\uC790 \uBE44\uAD50 \uC2E4\uD328:",o),o}}},getters:{getKanjis:e=>e.kanjis,getSearchResults:e=>e.searchResults,getMissingKanjis:e=>e.missingKanjis}},He={namespaced:!0,state:()=>({userProfile:{}}),mutations:{setUserProfile(e,t){e.userProfile=t}},actions:{async returnProfileImageByPayload({state:e,commit:t},o){try{if(!o)throw new Error("\uD604\uC7AC \uC120\uD0DD\uB41C \uC720\uC800 ID\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");const s=u(l,"profileImages",o),a=await j(s);if(a.exists()){const n={id:a.id,...a.data()};return console.log("profileImage \uB370\uC774\uD130:",n),n}else return console.log("\uD574\uB2F9 ID\uB97C \uAC00\uC9C4 \uC720\uC800\uC774 \uC5C6\uC2B5\uB2C8\uB2E4."),null}catch(s){throw console.error("\uC720\uC800 \uAC00\uC838\uC624\uAE30 \uC2E4\uD328:",s),s}},async uploadProfileImage({commit:e},{userId:t,file:o}){const s=P(),a=O(s,`profileImages/${t}`);try{await X(a,o);const n=await T(a),r=u(l,"profileImages",t);await B(r,{url:n},{merge:!0});const d=re().currentUser;d&&(await Z(d,{photoURL:n}),console.log("Firebase Authentication\uC758 photoURL\uC774 \uC131\uACF5\uC801\uC73C\uB85C \uC5C5\uB370\uC774\uD2B8\uB418\uC5C8\uC2B5\uB2C8\uB2E4.")),e("setUserProfile",{userId:t,photoURL:n})}catch(n){console.error("\uD504\uB85C\uD544 \uC774\uBBF8\uC9C0 \uC5C5\uB85C\uB4DC \uB610\uB294 Firebase Authentication\uC758 photoURL \uC5C5\uB370\uC774\uD2B8 \uC911 \uC624\uB958 \uBC1C\uC0DD: ",n)}},async fetchUserProfile({commit:e},t){const o=u(l,"users",t),s=await j(o);s.exists()?e("setUserProfile",s.data()):console.log("No such user profile!")},async getProfileImageById({state:e,commit:t},o){console.log("getprofileImageById\uC2E4\uD589::",o);try{if(!o)throw new Error("\uD604\uC7AC \uC120\uD0DD\uB41C \uC720\uC800 ID\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");const s=u(l,"profileImages",o),a=await j(s);if(a.exists()){const n={id:a.id,...a.data()};return console.log("profileImage \uB370\uC774\uD130:",n),n}else return console.log("\uD574\uB2F9 ID\uB97C \uAC00\uC9C4 \uC720\uC800\uC774 \uC5C6\uC2B5\uB2C8\uB2E4."),null}catch(s){throw console.error("\uC720\uC800 \uAC00\uC838\uC624\uAE30 \uC2E4\uD328:",s),s}},async deleteProfileImage({commit:e},t){console.log("\uD504\uB85C\uD544\uC0AC\uC9C4 \uC0AD\uC81C \uC2DC\uB3C4",t);try{const o=P(),s=O(o,`profileImages/${t}`);try{await T(s),await ce(s),console.log("\uD504\uB85C\uD544\uC0AC\uC9C4 \uC0AD\uC81C \uC644\uB8CC",t)}catch(a){if(a.code==="storage/object-not-found")console.log("\uC0AD\uC81C\uD560 \uD504\uB85C\uD544\uC0AC\uC9C4\uC774 \uC874\uC7AC\uD558\uC9C0 \uC54A\uC74C",t);else throw a}await W(u(l,"profileImages",t))}catch(o){console.error("\uD504\uB85C\uD544\uC0AC\uC9C4 \uC0AD\uC81C \uC911 \uC624\uB958 \uBC1C\uC0DD: ",o)}}},getters:{userProfile(e){return e.userProfile}}},Je={namespaced:!0,state:{countdown:null},mutations:{setCountdown(e,t){e.countdown=t}},actions:{async createCountdown({dispatch:e,rootGetters:t},o){try{const s=t["users/getUserID"],a={userID:s,title:o.title,date:o.date,createdAt:new Date().toISOString()};await B(u(l,"countdowns",s),a),e("getCountdown")}catch(s){console.error("Countdown \uC0DD\uC131 \uC911 \uC624\uB958 \uBC1C\uC0DD:",s)}},async updateCountdown({dispatch:e,rootGetters:t},o){try{const s=t["users/getUserID"];await C(u(l,"countdowns",s),{title:o.title,date:o.date}),e("getCountdown")}catch(s){console.error("Countdown \uC218\uC815 \uC911 \uC624\uB958 \uBC1C\uC0DD:",s)}},async getCountdown({dispatch:e,commit:t,rootGetters:o}){try{await e("users/ensureAuthReady",{},{root:!0});const s=o["users/getUserID"];if(console.log("userID:",s),!s)throw new Error("\uC0AC\uC6A9\uC790 \uC778\uC99D \uC815\uBCF4\uAC00 \uB204\uB77D\uB418\uC5C8\uC2B5\uB2C8\uB2E4.");const a=u(l,"countdowns",s),n=await j(a);n.exists()?t("setCountdown",n.data()):console.log("No such document!")}catch(s){console.error("Countdown \uAC00\uC838\uC624\uAE30 \uC624\uB958 \uBC1C\uC0DD:",s)}},async deleteCountdown({rootGetters:e,commit:t}){try{const o=e["users/getUserID"];await W(u(l,"countdowns",o)),t("setCountdown",null)}catch(o){console.error("Countdown \uC0AD\uC81C \uC911 \uC624\uB958 \uBC1C\uC0DD:",o)}}},getters:{getCountdown:e=>e.countdown}},Qe={namespaced:!0,state:()=>({favorites:[]}),mutations:{setFavorites(e,t){console.log("@MUTATIONS: setFavorites!",t),e.favorites=t}},actions:{async getFavoritesByUserID({commit:e,rootGetters:t}){try{console.log("@FIREBASE: getFavorites!");const o=t["users/getUserID"],s=p(l,"favorites"),a=$(s,v("userID","==",o)),n=await w(a);if(n.empty)e("setFavorites",[]);else{const r=[];n.forEach(c=>{r.push({id:c.id,...c.data()})}),e("setFavorites",r)}}catch(o){throw console.error("Error fetching checked words: ",o),o}},async toggleFavoriteByPayload({dispatch:e,rootGetters:t},o){try{const s=t["users/getUserID"];if(!o){console.log("vocaID\uAC00 \uC720\uD6A8\uD558\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4:",o);return}console.log("@FIREBASE: toggleFavorite!");const a=p(l,"favorites"),n=$(a,v("userID","==",s),v("vocaID","==",o)),r=await w(n);if(r.empty){const c={userID:s,vocaID:o,createdAt:new Date};await H(a,c)}else r.forEach(async c=>{await W(c.ref)});e("getFavoritesByUserID")}catch(s){throw s}},async deleteFavoritesByPayload({rootGetters:e,dispatch:t},o){try{const s=p(l,"favorites"),a=$(s,v("vocaID","==",o)),n=await w(a),r=ee(l);n.forEach(c=>{const d=u(l,"favorites",c.id);r.delete(d)}),await r.commit(),console.log("vocaID\uC5D0 \uD574\uB2F9\uD558\uB294 \uBAA8\uB4E0 \uB2E8\uC5B4 \uC0AD\uC81C \uC644\uB8CC:",o),await t("getFavoritesByUserID")}catch(s){throw console.error("\uB2E8\uC5B4 \uC0AD\uC81C \uC911 \uC624\uB958 \uBC1C\uC0DD:",s),s}},async returnFavoritesByPayload({commit:e,rootGetters:t},o){try{console.log("@FIREBASE: returnFavoritesByPayload!",o);const s=p(l,"favorites"),a=$(s,v("vocaID","==",o)),n=await w(a);if(n.empty)return console.log("\uC5C6\uC5B4\uC694"),[];{const r=[];return n.forEach(c=>{r.push({id:c.id,...c.data()})}),console.log("\uC788\uC2B5\uB124\uB2E4",r),r}}catch(s){throw console.error("Error fetching checked words: ",s),s}}},getters:{getFavorites(e){return e.favorites}}},ie=he({modules:{wordData:Fe,status:qe,words:Te,kanjis:Me,kanjis2:ze,users:Ke,vocas:Oe,profileImages:He,vocaImages:Ge,checkedWords:Ne,countdowns:Je,favorites:Qe}}),Ze={},Xe=i("path",{d:"M88,168H40a8,8,0,0,1-8-8V96a8,8,0,0,1,8-8H88l72-56V224Z"},null,-1),Ye=i("line",{x1:"200",y1:"104",x2:"200",y2:"152"},null,-1),et=i("line",{x1:"232",y1:"88",x2:"232",y2:"168"},null,-1);function tt(e,t){return h(),y(ne,null,[Xe,Ye,et],64)}const ot=k(Ze,[["render",tt]]);const st={components:{speaker:ot},created(){this.$route.name!=="welcome"&&this.generateWord()},data(){return{dialog:!1,searchTerm:""}},computed:{...M({word:"wordData/getWord",isLoading:"status/isLoading"})},methods:{...N({generateWord:"wordData/generateWord"})}},te=e=>(F("data-v-8a29f293"),e=e(),q(),e),at={class:"font-size_14 color_on-background"},nt=te(()=>i("div",{class:"sp_24"},null,-1)),rt={class:"font-size_52 font-weight_700 color_on-background"},ct=te(()=>i("div",{class:"sp_8"},null,-1)),it={class:"display_flex gap_4 align-items_center font-size_14 color_on-background-70"},lt=te(()=>i("div",{class:"sp_56"},null,-1)),dt={class:"font-size_18 font-weight_500 color_on-background"};function ut(e,t,o,s,a,n){const r=_("speaker"),c=_("icon");return e.word.word?(h(),y("div",{key:0,class:A(["wordData text-align_center",{"fade-in":!e.isLoading,"fade-out":e.isLoading}])},[i("div",at,x(e.word.partOfSpeech),1),nt,i("div",rt,x(e.word.word),1),ct,i("div",it,[G(x(e.word.reading)+" ",1),f(c,{class:"icon_16"},{default:R(()=>[f(r)]),_:1})]),lt,i("div",dt,x(e.word.meaning),1)],2)):L("",!0)}const gt=k(st,[["render",ut],["__scopeId","data-v-8a29f293"]]),ht={},ft={d:"M128,128h88a88,88,0,1,1-20.11-56"};function _t(e,t){return h(),y("path",ft)}const le=k(ht,[["render",_t]]),pt={},yt={d:`M132.8,44.7c6,11.3-6.1,25.8-25.1,35.9c-11.4,6-23,8.6-31.6,7.5c-5.7-0.7-10.1-3-12.2-6.9
	c-5.3-6.1-7-23.1,28.2-42.3 M209.3,175.1c-5.7,9.1-14.3,18.2-25.2,25.8c-18.4,12.9-38.5,18.4-52.6,15.7 M43.7,110.9
	c-4.3,7.7-4.2,15.3-3.1,20.4c1.3,6.5,5.7,12.2,11.7,14.8c16.8,7.2,48.6,0.5,79.5-18.3c38.4-23.3,61-56.4,50.4-74
	c-2.2-3.6-5.7-6.3-10.1-8.1 M56,181c16.3,18.7,60.2,14.5,101.7-10.7c41.1-24.9,65.1-61.5,56.7-84.6`};function mt(e,t){return h(),y("path",yt)}const wt=k(pt,[["render",mt]]);const vt={components:{wordData:gt,google:le,generate:wt},data(){return{dialog:!1,searchTerm:""}},computed:{...M({isLoading:"status/isLoading"})},methods:{...N({generateWord:"wordData/generateWord"})}},kt=e=>(F("data-v-23f3760e"),e=e(),q(),e),Dt={class:"app"},It={class:"button-wrap"},$t={key:0,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},jt=kt(()=>i("path",{fill:"none",stroke:"currentColor","stroke-dasharray":"15","stroke-dashoffset":"15","stroke-linecap":"round","stroke-width":"2.4",d:"M12 3C16.9706 3 21 7.02944 21 12"},[i("animate",{fill:"freeze",attributeName:"stroke-dashoffset",dur:"0.3s",values:"15;0"}),i("animateTransform",{attributeName:"transform",dur:"1.5s",repeatCount:"indefinite",type:"rotate",values:"0 12 12;360 12 12"})],-1)),St=[jt];function bt(e,t,o,s,a,n){const r=_("wordData"),c=_("google"),d=_("icon"),g=_("buttonOutline"),D=_("generate");return h(),y("div",Dt,[f(r),i("div",It,[f(g,{height:"196",icon:"top",class:"sign",onClick:e.generateWord},{default:R(()=>[f(d,{class:"icon_24"},{default:R(()=>[f(c)]),_:1}),G(" Sign in / Sign up ")]),_:1},8,["onClick"]),f(g,{height:"196",icon:"top",class:"generate",onClick:e.generateWord},{default:R(()=>[e.isLoading?(h(),y("svg",$t,St)):(h(),z(d,{key:1,class:"icon_24"},{default:R(()=>[f(D)]),_:1})),G(" Generate ")]),_:1},8,["onClick"])])])}const Rt=k(vt,[["render",bt],["__scopeId","data-v-23f3760e"]]);const Wt={components:{google:le},methods:{...N({signInWithGoogle:"users/signInWithGoogle"}),async handleSignInWithGoogle(){try{await this.signInWithGoogle(),this.$router.push({name:"my"}),alert("\uB85C\uADF8\uC778 \uC131\uACF5!")}catch(e){this.error=e.message}}}},Q=e=>(F("data-v-969482f9"),e=e(),q(),e),xt={class:"routerView"},At={class:"width_100"},Bt=Q(()=>i("div",{class:"display_flex flex-direction_column align-items_center width_100 pa_16"},[i("div",{class:"font-size_14 kr font-weight_500 line-height_130"}," \uC77D\uACE0, \uC554\uAE30\uD558\uACE0, \uC5F0\uACB0\uB418\uB294 ")],-1)),Ut=Q(()=>i("div",{class:"sp_32"},null,-1)),Et=Q(()=>i("span",null,"\uAD6C\uAE00\uB85C \uC2DC\uC791\uD558\uAE30",-1)),Lt=Q(()=>i("div",{class:"sp_128"},null,-1));function Pt(e,t,o,s,a,n){const r=_("google"),c=_("icon"),d=_("buttonDefault");return h(),y("div",xt,[i("div",At,[Bt,Ut,f(d,{class:"height_64 width_100 gap_8",onClick:t[0]||(t[0]=g=>n.handleSignInWithGoogle())},{default:R(()=>[f(c,null,{default:R(()=>[f(r)]),_:1}),Et]),_:1}),Lt])])}const Ct=k(Wt,[["render",Pt],["__scopeId","data-v-969482f9"]]),Ft=je({history:Se(),routes:[{path:"/",name:"welcome",component:Rt},{path:"/auth",name:"auth",component:Ct}]});const qt={props:{icon:{type:String,default:"none"},height:{type:Number,default:40}}},de=e=>(F("data-v-90ffedab"),e=e(),q(),e),Vt=de(()=>i("div",{class:"outline"},null,-1)),Kt=de(()=>i("div",{class:"underlay"},null,-1));function Ot(e,t,o,s,a,n){return h(),y("button",{class:A(["buttonOutline",{"icon-top":o.icon==="top","icon-left":o.icon==="left"}]),style:fe({height:o.height+"px"})},[U(e.$slots,"default",{},void 0,!0),Vt,Kt],6)}const Gt=k(qt,[["render",Ot],["__scopeId","data-v-90ffedab"]]);const Nt={},Tt=i("line",{x1:"200",y1:"56",x2:"56",y2:"200"},null,-1),Mt=i("line",{x1:"200",y1:"200",x2:"56",y2:"56"},null,-1);function zt(e,t){return h(),y(ne,null,[Tt,Mt],64)}const ue=k(Nt,[["render",zt]]),Ht={components:{x:ue},props:{dialog:{type:Boolean,default:!1},title:{type:String,default:""}},watch:{dialog(e){e?document.body.classList.add("no-scroll"):document.body.classList.remove("no-scroll")}},data(){return{loaded:!1}},mounted(){setTimeout(()=>{this.loaded=!0},1)},methods:{closeDialog(){this.$emit("update:dialog",!1)}}},Jt={key:0,class:"overlay-container"},Qt={class:"overlay modalDialog"},Zt={class:"dialog"},Xt={class:"dialog-header"},Yt={class:"font-size_24"},eo={class:"dialog-content"};function to(e,t,o,s,a,n){const r=_("x"),c=_("icon"),d=_("buttonIcon");return h(),z(Y,{to:"body"},[o.dialog?(h(),y("div",Jt,[i("div",Qt,[i("div",{class:A(["overlay__scrim",{active:a.loaded}]),onClick:t[0]||(t[0]=(...g)=>n.closeDialog&&n.closeDialog(...g))},null,2),i("div",{class:A(["overlay__content",{active:a.loaded}])},[i("div",Zt,[i("div",Xt,[i("span",Yt,x(o.title),1),f(d,{onClick:n.closeDialog},{default:R(()=>[f(c,null,{default:R(()=>[f(r)]),_:1})]),_:1},8,["onClick"])]),i("div",eo,[U(e.$slots,"default")])])],2)])])):L("",!0)])}const oo=k(Ht,[["render",to]]);const so={},ao={d:"M48,128h160 M163.17,172.83L208,128l-44.83-44.83"};function no(e,t){return h(),y("path",ao)}const ro=k(so,[["render",no]]),co={components:{caretLeft:ro},props:{dialog:{type:Boolean,default:!1},title:{type:String,default:""}},data(){return{loaded:!1}},mounted(){setTimeout(()=>{this.loaded=!0},1)},methods:{closeDialog(){console.log("closeDialog"),this.$emit("update:dialog",!1)}}},io={key:0,class:"overlay-container"},lo={class:"overlay fullDialog"},uo={class:"dialog"},go={class:"dialog-header"},ho={class:"display_flex align-items_center"},fo={class:"title"},_o={class:"header-button"},po={class:"dialog-content"};function yo(e,t,o,s,a,n){const r=_("caretLeft"),c=_("icon"),d=_("buttonIcon");return h(),z(Y,{to:"body"},[o.dialog?(h(),y("div",io,[i("div",lo,[i("div",{class:A(["overlay__scrim",{active:a.loaded}]),onClick:t[0]||(t[0]=(...g)=>n.closeDialog&&n.closeDialog(...g))},null,2),i("div",{class:A(["overlay__content",{active:a.loaded}])},[i("div",uo,[i("div",go,[i("div",ho,[f(d,{onClick:n.closeDialog},{default:R(()=>[f(c,null,{default:R(()=>[f(r)]),_:1})]),_:1},8,["onClick"]),i("span",fo,x(o.title),1)]),i("div",_o,[U(e.$slots,"header")])]),i("div",po,[U(e.$slots,"default")])])],2)])])):L("",!0)])}const mo=k(co,[["render",yo]]);const wo={components:{},props:{dialog:{type:Boolean,default:!1},title:{type:String,default:""}},data(){return{loaded:!1,isFull:!1}},mounted(){setTimeout(()=>{this.loaded=!0},1)},methods:{closeDialog(){this.$emit("update:dialog",!1)}}},vo={key:0,class:"overlay-container"},ko={class:"overlay bottomDialog"},Do={class:"dialog"},Io={class:"dialog-header"},$o={class:"font-size_24"},jo={class:"dialog-content"},So=i("div",{class:"underlay"},null,-1);function bo(e,t,o,s,a,n){const r=_("x"),c=_("icon"),d=_("buttonIcon");return h(),z(Y,{to:"body"},[o.dialog?(h(),y("div",vo,[i("div",ko,[i("div",{class:A(["overlay__scrim",{active:a.loaded}]),onClick:t[0]||(t[0]=(...g)=>n.closeDialog&&n.closeDialog(...g))},null,2),i("div",{class:A(["overlay__content",{active:a.loaded,full:a.isFull}])},[i("div",Do,[i("div",Io,[i("span",$o,x(o.title),1),f(d,{onClick:n.closeDialog},{default:R(()=>[f(c,null,{default:R(()=>[f(r)]),_:1})]),_:1},8,["onClick"])]),i("div",jo,[U(e.$slots,"default")]),So])],2)])])):L("",!0)])}const Ro=k(wo,[["render",bo]]);const Wo={},xo={d:"M48,128h160 M163.17,172.83L208,128l-44.83-44.83"};function Ao(e,t){return h(),y("path",xo)}const Bo=k(Wo,[["render",Ao]]),Uo={},Eo={d:"M48,128h160 M163.17,172.83L208,128l-44.83-44.83"};function Lo(e,t){return h(),y("path",Eo)}const Po=k(Uo,[["render",Lo]]);const Co={components:{question:Bo,warning:Po},props:{label:{type:String,required:!0},modelValue:{type:String,default:""},hint:{type:String,default:""},type:{type:String,default:"text"},rules:{type:[Array,String,Object],default:()=>[]}},data(){return{validationMessage:"",isFocused:!1,errorMessage:""}},methods:{handleInput(e){this.$emit("update:modelValue",e.target.value),this.validateInput()},async validateInput(){this.errorMessage="";for(const e of this.rules){const t=await e(this.modelValue);if(t!==!0){this.errorMessage=t;return}}}},computed:{isValid(){return this.errorMessage===""}}},V=e=>(F("data-v-373e91d5"),e=e(),q(),e),Fo={class:"textField"},qo={class:"textField-flex"},Vo=V(()=>i("div",{class:"textField-space"},null,-1)),Ko={class:"textField-input"},Oo=["type","value"],Go=V(()=>i("div",{class:"textField-space"},null,-1)),No=V(()=>i("div",{class:"textField-overlay"},null,-1)),To={class:"textField-outline"},Mo=V(()=>i("div",{class:"textField-outline__start"},null,-1)),zo={class:"textField-outline__notch"},Ho=V(()=>i("div",{class:"textField-outline__end"},null,-1)),Jo=V(()=>i("div",{class:"textField-underline"},null,-1)),Qo={class:"textField-details"},Zo={key:0,class:"messages"},Xo={key:1,class:"messages"},Yo={key:0,class:"validation-message"};function es(e,t,o,s,a,n){const r=_("warning"),c=_("icon"),d=_("question");return h(),y("div",{class:A(["form-field",{focus:a.isFocused,active:o.modelValue,invalid:!n.isValid}])},[i("div",Fo,[i("div",qo,[Vo,i("div",Ko,[i("input",{type:o.type,value:o.modelValue,onInput:t[0]||(t[0]=(...g)=>n.handleInput&&n.handleInput(...g)),onFocus:t[1]||(t[1]=g=>a.isFocused=!0),onBlur:t[2]||(t[2]=g=>a.isFocused=!1)},null,40,Oo)]),U(e.$slots,"default",{},void 0,!0),Go]),No,i("div",To,[Mo,i("div",zo,[i("label",null,x(o.label),1)]),Ho]),Jo]),i("div",Qo,[n.isValid?L("",!0):(h(),y("div",Zo,[f(c,null,{default:R(()=>[f(r)]),_:1}),G(x(a.errorMessage),1)])),n.isValid&&o.hint?(h(),y("div",Xo,[f(c,null,{default:R(()=>[f(d)]),_:1}),G(x(o.hint),1)])):L("",!0)]),a.validationMessage?(h(),y("p",Yo)):L("",!0)],2)}const ts=k(Co,[["render",es],["__scopeId","data-v-373e91d5"]]);const os={},ss={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 256 256",role:"presentation"};function as(e,t,o,s,a,n){return h(),y("svg",ss,[i("g",null,[U(e.$slots,"default",{},void 0,!0)])])}const ns=k(os,[["render",as],["__scopeId","data-v-3dedf5d2"]]);const rs={},cs={class:"card"};function is(e,t,o,s,a,n){return h(),y("div",cs,[U(e.$slots,"default",{},void 0,!0)])}const ls=k(rs,[["render",is],["__scopeId","data-v-ce2fab6b"]]);ie.dispatch("users/initAuthState");function ds(e){e.use(ie).use(Ft).component("buttonOutline",Gt).component("textField",ts).component("icon",ns).component("x",ue).component("card",ls).component("modalDialog",oo).component("fullDialog",mo).component("bottomDialog",Ro)}const oe=_e(Ce);oe.config.globalProperties.$http=pe;ds(oe);oe.mount("#app");
