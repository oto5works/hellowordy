import{a as _,m as g}from"./vuex.e580fdf2.js";import{_ as y,a as x}from"./index.77ae470c.js";import{x as a,v as n,A as t,K as r,J as f,r as p,E as w,G as k,H as I,F as $,P as b,B as h,y as D,z as M}from"./@vue.6d92c876.js";import"./axios.a2e7c818.js";import"./@google.3c047deb.js";import"./firebase.b6aa71ac.js";import"./@firebase.eb3d1888.js";import"./idb.13e98345.js";import"./tslib.3c1e63d7.js";import"./vue-router.cacd5158.js";import"./@egjs.49313d0a.js";import"./@cfcs.62ec6ef0.js";import"./@tiptap.58113168.js";import"./prosemirror-state.669ab027.js";import"./prosemirror-model.a115b74d.js";import"./orderedmap.20afc3da.js";import"./prosemirror-transform.3cf32640.js";import"./prosemirror-view.2d8901b7.js";import"./prosemirror-keymap.d8b22547.js";import"./w3c-keyname.a3821d5e.js";import"./prosemirror-commands.0a3dea2e.js";import"./prosemirror-schema-list.6d4dac38.js";import"./tippy.js.4b0d142c.js";import"./@popperjs.d3f73b18.js";const R={components:{},data(){return{title:"unSelected"}},computed:{..._({currentIndex:"study/getCurrentIndex",lastIndex:"study/getLastIndex",part:"study/getPart"}),vocaID(){return this.$route.params.id}},created(){this.loadVoca()},methods:{...g({setIndex:"study/setIndex",setShowFilter:"filter/setShowFilter",returnVocaByPayload:"vocas/returnVocaByPayload",returnWordsByPayload:"words/returnWordsByPayload"}),handleUpdatePart(e){this.setIndex(e)},async loadVoca(){if(this.vocaID){console.log("vocaID",this.vocaID);const e=await this.returnVocaByPayload(this.vocaID);e?this.title=e.title:alert("\uB2E8\uC5B4\uC7A5\uC744 \uBD88\uB7EC\uC624\uB294\uB370 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}}}},S={class:"title"},W={class:"index"},E={class:"font-weight_400 opacity_40"};function C(e,s,l,c,i,d){return a(),n("div",{class:"ankiIDTitle",onClick:s[0]||(s[0]=o=>e.setShowFilter())},[t("div",S,r(i.title)+" #"+r(e.part+1),1),t("div",W,[t("span",null,r(e.currentIndex+1),1),t("span",E,"/"+r(e.lastIndex),1)])])}const V=y(R,[["render",C],["__scopeId","data-v-819bcfe8"]]),j={components:{ankiKanji:f(()=>x(()=>import("./ankiIDKanji.d4ed5337.js").then(e=>e.b),["assets/ankiIDKanji.d4ed5337.js","assets/vuex.e580fdf2.js","assets/@vue.6d92c876.js","assets/index.77ae470c.js","assets/axios.a2e7c818.js","assets/@google.3c047deb.js","assets/firebase.b6aa71ac.js","assets/@firebase.eb3d1888.js","assets/idb.13e98345.js","assets/tslib.3c1e63d7.js","assets/vue-router.cacd5158.js","assets/@egjs.49313d0a.js","assets/@cfcs.62ec6ef0.js","assets/@tiptap.58113168.js","assets/prosemirror-state.669ab027.js","assets/prosemirror-model.a115b74d.js","assets/orderedmap.20afc3da.js","assets/prosemirror-transform.3cf32640.js","assets/prosemirror-view.2d8901b7.js","assets/prosemirror-keymap.d8b22547.js","assets/w3c-keyname.a3821d5e.js","assets/prosemirror-commands.0a3dea2e.js","assets/prosemirror-schema-list.6d4dac38.js","assets/tippy.js.4b0d142c.js","assets/@popperjs.d3f73b18.js","assets/index.3ec58377.css","assets/ankiIDKanji.86cb6549.css"]))},data(){return{dialog:!1,kanji:null,ruby:null}},computed:{..._({word:"study/getWord",mean:"study/getMean",showRuby:"study/getShowRuby",showMean:"study/getShowMean",alwaysRuby:"study/getAlwaysRuby",alwaysMean:"study/getAlwaysMean"}),wordClass(){const e=this.word?this.word.length:0;return e>70?"long-text-70":e>50?"long-text-50":"normal-text"}},methods:{extractWord(e){const s=e.target.closest("ruby");if(s){const l=s.textContent.replace(/\(.*?\)/g,"").trim(),c=s.querySelector("rt")?s.querySelector("rt").textContent:null;this.kanji=l,this.ruby=c,console.log("Extracted word:",this.kanji),console.log("Extracted ruby text:",this.ruby),this.dialog=!0}}}},A={class:"ankiIDWord"},B={class:"card"},P={class:"content"},L={class:"item"},T=["innerHTML"],F={class:"display_flex flex-wrap_wrap gap_8 justify-content_center"},H={class:"mean display_flex align-items_center gap_2"};function K(e,s,l,c,i,d){const o=p("ankiKanji");return a(),n("div",A,[t("div",B,[t("div",P,[t("div",L,[t("div",{class:w(["word",[d.wordClass,{showRuby:e.showRuby||e.alwaysRuby}]]),innerHTML:e.word,onClick:s[0]||(s[0]=(...u)=>d.extractWord&&d.extractWord(...u))},null,10,T),t("div",F,[t("div",H,[t("div",{class:w(["item",{showMean:e.showMean||e.alwaysMean}])},r(e.mean),3)])])])])]),i.dialog?(a(),k(o,{key:0,dialog:i.dialog,"onUpdate:dialog":s[1]||(s[1]=u=>i.dialog=u),kanji:i.kanji},null,8,["dialog","kanji"])):I("",!0)])}const N=y(j,[["render",K]]),q={computed:{..._({examples:"study/getExamples",showRuby:"study/getShowRuby",showMean:"study/getShowMean",alwaysRuby:"study/getAlwaysRuby",alwaysMean:"study/getAlwaysMean"})}},z={class:"ankiIDExample"},G=["examples"],U={class:"examples-item"},J=["innerHTML"],O={key:1,class:"sentence"},Q={key:2,class:"translation"};function X(e,s,l,c,i,d){return a(),n("div",z,[(a(!0),n($,null,b(e.examples,o=>(a(),n("div",{class:"examples",key:o.id,examples:o},[t("div",U,[e.showRuby||e.alwaysRuby?(a(),n("div",{key:0,class:"sentence",innerHTML:o.sentence},null,8,J)):(a(),n("div",O,r(o.originalSentence),1)),e.showMean||e.alwaysMean?(a(),n("div",Q,r(o.translation),1)):I("",!0)])],8,G))),128))])}const Y=y(q,[["render",X]]);const Z={components:{ankiIDIndex:V,ankiIDWord:N,ankiIDExample:Y},computed:{..._({wordID:"study/getWordID",word:"study/getWord",mean:"study/getMean",examples:"study/getExamples",showRuby:"study/getShowRuby",showMean:"study/getShowMean",alwaysRuby:"study/getAlwaysRuby",alwaysMean:"study/getAlwaysMean"})},methods:{...g({})}},m=e=>(D("data-v-dd7f8a50"),e=e(),M(),e),ee=m(()=>t("div",{class:"spacing-1"},null,-1)),te=m(()=>t("div",{class:"spacing-2"},null,-1)),se=m(()=>t("div",{class:"spacing-3"},null,-1)),oe=m(()=>t("div",{class:"spacing-4"},null,-1));function ae(e,s,l,c,i,d){const o=p("ankiIDIndex"),u=p("ankiIDWord"),v=p("ankiIDExample");return a(),n("div",null,[ee,h(o),te,h(u),se,h(v),oe])}const Se=y(Z,[["render",ae],["__scopeId","data-v-dd7f8a50"]]);export{Se as default};
