import{a as u,m}from"./vuex.e580fdf2.js";import{_ as f}from"./index.ed021e06.js";import{r as a,x as r,G as h,D as v,A as e,K as _,L as w,y,z as g,v as P,B as W,Q as $,R as C,P as b,E as B,F as I}from"./@vue.6d92c876.js";import"./axios.a2e7c818.js";import"./firebase.b6aa71ac.js";import"./@firebase.eb3d1888.js";import"./idb.13e98345.js";import"./tslib.3c1e63d7.js";import"./vue-router.cacd5158.js";import"./@egjs.49313d0a.js";import"./@cfcs.62ec6ef0.js";import"./@tiptap.58113168.js";import"./prosemirror-state.669ab027.js";import"./prosemirror-model.a115b74d.js";import"./orderedmap.20afc3da.js";import"./prosemirror-transform.3cf32640.js";import"./prosemirror-view.2d8901b7.js";import"./prosemirror-keymap.d8b22547.js";import"./w3c-keyname.a3821d5e.js";import"./prosemirror-commands.0a3dea2e.js";import"./prosemirror-schema-list.6d4dac38.js";import"./tippy.js.4b0d142c.js";import"./@popperjs.d3f73b18.js";import"./@google.3c047deb.js";const D={components:{},props:{part:{type:Number},total:{type:Number}},computed:{...u({checkedWords:"checkedWords/getCheckedWords",filteredWords:"filter/getFilteredWords"}),matchedWords(){if(!this.checkedWords||!this.filteredWords||typeof this.part>"u")return[];const t=Object.values(this.checkedWords).map(s=>s.wordID);return this.filteredWords[this.part]?this.filteredWords[this.part].filter(s=>t.includes(s.id)):[]},progressWidth(){const t=this.matchedWords.length/this.total;return`${Math.min(100,t*100)}%`}},methods:{...m({getCheckedWordsByCurrentVocaID:"checkedWords/getCheckedWordsByCurrentVocaID"})}},F=t=>(y("data-v-0cc63cba"),t=t(),g(),t),x={class:"content"},O={class:"index"},U={class:"item"},V={class:"word"},N={class:"mean"},j={class:"font-size_12 line-height_100"},A=F(()=>e("div",{class:"sp_2"},null,-1)),E={class:"progress-bar"},G=F(()=>e("div",{class:"underlay"},null,-1));function L(t,s,c,S,n,o){const i=a("buttonCard");return r(),h(i,{class:"card"},{default:v(()=>[e("div",x,[e("div",O,"Part "+_(c.part+1),1),e("div",U,[e("div",V,_(this.filteredWords[this.part][0].word)+" ~ ",1),e("div",N,[e("div",j,_(o.matchedWords.length)+" / "+_(c.total),1),A,e("div",E,[e("div",{class:"progress",style:w({width:o.progressWidth})},null,4),G])])])])]),_:1})}const M=f(D,[["render",L],["__scopeId","data-v-0cc63cba"]]);const K={data(){return{selectedPartSize:30}},computed:{...u({getPartSize:"filter/getPartSize"})},watch:{selectedPartSize(t){this.handleSetPartSize(t)}},methods:{...m({setPartSize:"filter/setPartSize",fetchFilterWordsByPayload:"filter/fetchFilterWordsByPayload"}),async handleSetPartSize(t){await this.setPartSize(t),await this.fetchFilterWordsByPayload(this.$route.params.id)}},mounted(){this.selectedPartSize=this.getPartSize}},d=t=>(y("data-v-99160980"),t=t(),g(),t),Q={class:"display_flex align-items_center justify-content_space-between width_100 --mio-theme-padding-2"},R=d(()=>e("div",{class:"font-size_14"},"\uBA87\uAC1C\uC529\uBCFC\uB798",-1)),q=d(()=>e("option",{value:"30"},[e("span",{class:"font-size_13"},"30\uAC1C\uC529 \uBCF4\uAE30")],-1)),H=d(()=>e("option",{value:"50"},[e("span",{class:"font-size_13"},"50\uAC1C\uC529 \uBCF4\uAE30")],-1)),J=d(()=>e("option",{value:"100"},[e("span",{class:"font-size_13"},"100\uAC1C\uC529 \uBCF4\uAE30")],-1)),T=d(()=>e("option",{value:"300"},[e("span",{class:"font-size_13"},"\uC804\uCCB4 \uBCF4\uAE30")],-1)),X=[q,H,J,T];function Y(t,s,c,S,n,o){const i=a("buttonSelect");return r(),P("div",Q,[R,W(i,{class:"height_32 pa_8 gap_4"},{default:v(()=>[$(e("select",{"onUpdate:modelValue":s[0]||(s[0]=p=>n.selectedPartSize=p)},X,512),[[C,n.selectedPartSize]])]),_:1})])}const Z=f(K,[["render",Y],["__scopeId","data-v-99160980"]]);const tt={components:{ankiFilterPartCard:M,ankiFilterOption:Z},created(){},computed:{...u({part:"study/getPart",filteredWords:"filter/getFilteredWords",showFilter:"filter/getShowFilter"})},methods:{...m({setShowFilter:"filter/setShowFilter",fetchFilterWordsByPayload:"filter/fetchFilterWordsByPayload",setPart:"study/setPart",initializeStudy:"study/initializeStudy"}),async handleUpdatePart(t){await this.setPart(t),await this.initializeStudy(),this.setShowFilter()},updateDialog(t){this.setShowFilter()}}},et=t=>(y("data-v-9587281e"),t=t(),g(),t),st={class:"content"},ot=et(()=>e("div",{class:"sp_8"},null,-1)),it={class:"words-list"};function at(t,s,c,S,n,o){const i=a("ankiFilterOption"),p=a("ankiFilterPartCard"),k=a("fullDialog");return r(),h(k,{title:"Select",dialog:t.showFilter,"onUpdate:dialog":o.updateDialog},{default:v(()=>[e("div",st,[W(i),ot,e("div",it,[(r(!0),P(I,null,b(t.filteredWords,(z,l)=>(r(),h(p,{key:l,onClick:rt=>o.handleUpdatePart(l),class:B({selected:l===t.part}),part:l,total:z.length},null,8,["onClick","class","part","total"]))),128))])])]),_:1},8,["dialog","onUpdate:dialog"])}const It=f(tt,[["render",at],["__scopeId","data-v-9587281e"]]);export{It as default};
