import{m as k,a as M,c as ie}from"./vuex.8c930407.js";import{o as i,k as T,l as n,m as y,q as F,t as L,v as x,x as u,F as R,r as p,y as m,z as $,A as r,B as _,D as b,E as H,G as P,H as re,I as le}from"./@vue.41b52b80.js";import{a as ce}from"./axios.a2e7c818.js";import{G}from"./@google.3c047deb.js";import"./firebase.6edc923e.js";import{i as de,g as ue,a as pe,b as ge,c as _e,G as me,s as he,d as B,e as Z,f as Q,h as fe}from"./@firebase.dddb15d8.js";import{c as ve,a as ye}from"./vue-router.86d52d44.js";import{F as be,P as $e}from"./@egjs.1717d255.js";import"./idb.13e98345.js";import"./tslib.3c1e63d7.js";import"./@cfcs.c55907a0.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))d(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const g of o.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&d(g)}).observe(document,{childList:!0,subtree:!0});function a(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function d(s){if(s.ep)return;s.ep=!0;const o=a(s);fetch(s.href,o)}})();const v=(e,t)=>{const a=e.__vccOpts||e;for(const[d,s]of t)a[d]=s;return a},we={data(){return{loadedSrc:"https://hello-wordy.web.app/image/bg.png",loadingSrc:"https://hello-wordy.web.app/image/bg.gif"}},computed:{...k({isLoading:"status/isLoading",welcomeText:"status/welcomeText"}),currentSrc(){return this.isLoading||this.welcomeText?this.loadingSrc:this.loadedSrc}},methods:{...M({generateWord:"wordData/generateWord"})}},Se=e=>(L("data-v-35ddf7dd"),e=e(),x(),e),Te={class:"loading-container"},ke=["src"],Le=Se(()=>n("div",{class:"gradient"},null,-1));function xe(e,t,a,d,s,o){return i(),T(F,{to:"#app"},[n("div",Te,[n("img",{src:o.currentSrc,class:y(["loading-image",{loading:e.isLoading||e.welcomeText,loaded:!e.isLoading&&!e.welcomeText}])},null,10,ke),Le])])}const Ie=v(we,[["render",xe],["__scopeId","data-v-35ddf7dd"]]),Ce={},Pe=n("path",{d:"M88,168H40a8,8,0,0,1-8-8V96a8,8,0,0,1,8-8H88l72-56V224Z"},null,-1),Ee=n("line",{x1:"200",y1:"104",x2:"200",y2:"152"},null,-1),Ae=n("line",{x1:"232",y1:"88",x2:"232",y2:"168"},null,-1);function Me(e,t){return i(),u(R,null,[Pe,Ee,Ae],64)}const Re=v(Ce,[["render",Me]]);const De={components:{speaker:Re},data(){return{dialog:!1,searchTerm:""}},computed:{...k({word:"wordData/getWord",isLoading:"status/isLoading",error:"wordData/error",common:"translations/common"})},methods:{...M({generateWord:"wordData/generateWord"})}},O=e=>(L("data-v-e499eae6"),e=e(),x(),e),Oe={class:"wordDataContainer"},Ne={class:"font-size_14 color_on-background"},Ge=O(()=>n("div",{class:"spacing-1"},null,-1)),We={class:"font-size_52 font-weight_700 color_on-background"},Fe=O(()=>n("div",{class:"spacing-2"},null,-1)),ze={class:"display_flex gap_4 align-items_center font-size_14 color_on-background-70"},Ve=O(()=>n("div",{class:"spacing-3"},null,-1)),je={class:"font-size_18 font-weight_500 color_on-background"},Je={key:1,class:"errorContainer"},Be={class:"errorMessage font-size_18 color_error text-align_center width_70"},Ue=O(()=>n("div",{class:"spacing-2"},null,-1)),He={class:"font-size_10 text-align_center width_70"},qe=O(()=>n("div",{class:"spacing-3"},null,-1)),Ke={class:"height_40"};function Ze(e,t,a,d,s,o){const g=p("speaker"),c=p("icon"),l=p("buttonOutline");return i(),u("div",Oe,[e.word.word&&!e.error?(i(),u("div",{key:0,class:y(["wordData text-align_center",{"fade-in":!e.isLoading,"fade-out":e.isLoading}])},[n("div",Ne,m(e.word.partOfSpeech),1),Ge,n("div",We,m(e.word.word),1),Fe,n("div",ze,[$(m(e.word.reading)+" ",1),r(c,{class:"icon_16"},{default:_(()=>[r(g)]),_:1})]),Ve,n("div",je,m(e.word.meaning),1)],2)):e.error?(i(),u("div",Je,[n("div",Be,m(e.common.message.error),1),Ue,n("div",He,m(e.error),1),qe,n("div",Ke,[r(l,{onClick:e.generateWord},{default:_(()=>[$(m(e.common.button.retry),1)]),_:1},8,["onClick"])])])):b("",!0)])}const z=v(De,[["render",Ze],["__scopeId","data-v-e499eae6"]]),Qe={},Xe={d:"M128,128h88a88,88,0,1,1-20.11-56"};function Ye(e,t){return i(),u("path",Xe)}const V=v(Qe,[["render",Ye]]),et={},tt={d:`M132.8,44.7c6,11.3-6.1,25.8-25.1,35.9c-11.4,6-23,8.6-31.6,7.5c-5.7-0.7-10.1-3-12.2-6.9
	c-5.3-6.1-7-23.1,28.2-42.3 M209.3,175.1c-5.7,9.1-14.3,18.2-25.2,25.8c-18.4,12.9-38.5,18.4-52.6,15.7 M43.7,110.9
	c-4.3,7.7-4.2,15.3-3.1,20.4c1.3,6.5,5.7,12.2,11.7,14.8c16.8,7.2,48.6,0.5,79.5-18.3c38.4-23.3,61-56.4,50.4-74
	c-2.2-3.6-5.7-6.3-10.1-8.1 M56,181c16.3,18.7,60.2,14.5,101.7-10.7c41.1-24.9,65.1-61.5,56.7-84.6`};function st(e,t){return i(),u("path",tt)}const j=v(et,[["render",st]]),nt={},ot={points:"160 208 80 128 160 48"};function at(e,t){return i(),u("polyline",ot)}const X=v(nt,[["render",at]]),it={},rt={d:`M128,224c-53,0-96-43-96-96s43-96,96-96s96,43,96,96 M128,224c0,0-40-32-40-96s40-96,40-96s40,32,40,96
	 M37.5,96h181.1 M37.5,160H128 M192,176c8.8,0,16,7.2,16,16c0,8.8-7.2,16-16,16s-16-7.2-16-16C176,183.2,183.2,176,192,176z
	 M192,176v-12 M178.1,184l-10.4-6 M178.1,200l-10.4,6 M192,208v12 M205.9,200l10.4,6 M205.9,184l10.4-6`};function lt(e,t){return i(),u("path",rt)}const ct=v(it,[["render",lt]]),dt={},ut={class:"st0",d:`M101.3,117.3l16,16l18.7-18.7L154.7,96 M192,224l-64-40l-64,40V48c0-2.1,0.8-4.2,2.3-5.7
	c1.5-1.5,3.5-2.3,5.7-2.3h112c2.1,0,4.2,0.8,5.7,2.3c1.5,1.5,2.3,3.5,2.3,5.7V224z`};function pt(e,t){return i(),u("path",ut)}const gt=v(dt,[["render",pt]]);const _t={components:{wordData:z,google:V,generate:j,caretLeft:X,settings:ct,bookmark:gt},data(){return{dialog:!1}},computed:{...k({isLoading:"status/isLoading",settings:"settings/settings"})},methods:{goToLearning(){this.$router.push({name:"learning"})},goToSettings(){this.$router.push({name:"settings"})}}},mt={class:"headerView"},ht={class:"display_flex gap_16"},ft={class:"display_flex gap_16"};function vt(e,t,a,d,s,o){const g=p("caretLeft"),c=p("icon"),l=p("buttonIcon"),h=p("bookmark"),f=p("settings");return i(),u("div",mt,[n("div",ht,[e.$route.name==="chat"?(i(),T(l,{key:0,onClick:o.goToLearning},{default:_(()=>[r(c,null,{default:_(()=>[r(g)]),_:1})]),_:1},8,["onClick"])):b("",!0)]),n("div",ft,[e.$route.name==="learning"?(i(),T(l,{key:0},{default:_(()=>[r(c,null,{default:_(()=>[r(h)]),_:1})]),_:1})):b("",!0),e.$route.name==="learning"?(i(),T(l,{key:1,onClick:o.goToSettings},{default:_(()=>[r(c,null,{default:_(()=>[r(f)]),_:1})]),_:1},8,["onClick"])):b("",!0)])])}const yt=v(_t,[["render",vt],["__scopeId","data-v-bca5fe41"]]);const bt={components:{background:Ie,headerView:yt},computed:{...k({isAuthenticated:"users/isAuthenticated"}),isAuth(){return this.$route.name==="auth"},isAnkiID(){return this.$route.name==="ankiID"}},created(){},methods:{...M({})}},$t={class:"app"};function wt(e,t,a,d,s,o){const g=p("headerView"),c=p("RouterView"),l=p("background");return i(),u("div",$t,[r(g),r(c),r(l)])}const St=v(bt,[["render",wt]]),Tt={namespaced:!0,state:{partOfSpeech:null,word:null,reading:null,meaning:null,generatedWords:[],error:null},mutations:{SET_WORD_DATA(e,t){console.log("wordData",t),e.partOfSpeech=t.partOfSpeech,e.word=t.word,e.reading=t.reading,e.meaning=t.meaning},ADD_GENERATED_WORD(e,t){e.generatedWords.push(t)},SET_ERROR(e,t){e.error=t},CLEAR_ERROR(e){e.error=null}},actions:{async generateWord({commit:e,state:t,dispatch:a,rootGetters:d}){a("prompts/clearPrompts",{},{root:!0}),e("CLEAR_ERROR");const s=d["settings/settings"];a("status/startLoading",{},{root:!0}),console.log("generate START!"),console.log("settings:",s.nativeLanguage);const g=new G("AIzaSyBrdNobChTsFJ-ai5e3LlaTm1NZDogpWzM").getGenerativeModel({model:"gemini-1.5-flash",generationConfig:{responseMimeType:"application/json"}});let c="English phonetic symbols";s.targetLanguage==="japanese"?c="hiragana":s.targetLanguage==="korean"?c="Revised Romanization of Korean":s.targetLanguage==="chinese"&&(c="Pinyin");let l=`Generate words related to ${s.goal} in ${s.targetLanguage}.`;if(s.goalType==="general"){const w=[{part:"noun",probability:.3},{part:"pronoun",probability:.1},{part:"numeral",probability:.05},{part:"verb",probability:.2},{part:"adjective",probability:.15},{part:"determiner",probability:.05},{part:"adverb",probability:.1},{part:"particle",probability:.05}];let I=0;for(const S of w)I+=S.probability;let C=Math.random()*I,E="";for(const S of w)if(C-=S.probability,C<=0){E=S.part;break}l=`
  Difficulty levels are defined as: beginner, intermediate, advanced.
  Selected difficulty: ${s.difficulty}.
  Generate a word in ${s.targetLanguage} that is a ${E}.
  `}else s.goalType==="topic"&&(l=`Give me one ${s.targetLanguage} phrase that is useful for ${s.goal}.`);const h=`

${l}
The 'word' should be in ${s.targetLanguage}.
The 'meaning' should be in ${s.nativeLanguage}.
The 'reading' should be in ${c} phonetic symbols.
The 'part of speech' should be written in ${s.nativeLanguage}.

Do not include words that have already been generated.
Previously generated words: ${t.generatedWords.join(", ")}. 

Output the word information using this JSON schema:
{ "type": "object",
  "wordData": {
    "partOfSpeech": { "type": "string" },
    "word": { "type": "string" },
    "reading": { "type": "string" },
    "meaning": { "type": "string" },
  }
}`;let f=0;const A=3;for(console.log("\uBA85\uB839\uC5B4: ",h);f<A;)try{const I=await(await g.generateContent(h)).response.text();console.log(I);const E=/{"wordData": {"partOfSpeech": "(.*)", "word": "(.*)", "reading": "(.*)", "meaning": "(.*)"}}/.exec(I);if(E){const S={partOfSpeech:E[1],word:E[2],reading:E[3],meaning:E[4]};if(t.generatedWords.includes(S.word))console.log("\uC774\uBBF8 \uC0DD\uC131\uB41C \uB2E8\uC5B4\uC785\uB2C8\uB2E4.");else{console.log("wordData:",S),e("SET_WORD_DATA",S),e("ADD_GENERATED_WORD",S.word),a("status/stopLoading",{},{root:!0}),a("prompts/generatePrompts",{},{root:!0});return}}else throw console.error("JSON \uB370\uC774\uD130\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."),new Error("JSON \uB370\uC774\uD130\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.")}catch(w){if(console.error("\uC624\uB958 \uBC1C\uC0DD:",w),e("SET_ERROR",w.message),f++,w.message.includes("503"))console.log(`\uC7AC\uC2DC\uB3C4 ${f}\uD68C`),await new Promise(I=>setTimeout(I,2e3));else throw w}console.error("\uCD5C\uB300 \uC7AC\uC2DC\uB3C4 \uD69F\uC218 \uCD08\uACFC"),e("SET_ERROR","\uCD5C\uB300 \uC7AC\uC2DC\uB3C4 \uD69F\uC218 \uCD08\uACFC"),a("status/stopLoading",{},{root:!0})}},getters:{getWord:e=>e,error:e=>e.error}},kt={namespaced:!0,state:{isLoading:!1,welcomeText:!1},mutations:{setLoading(e,t){e.isLoading=t,e.welcomeText=!1},setWelcomeText(e,t){e.welcomeText=t}},actions:{startLoading({commit:e}){e("setLoading",!0)},stopLoading({commit:e}){e("setLoading",!1)},updateWelcomeText({commit:e},t){e("setWelcomeText",t)}},getters:{isLoading(e){return e.isLoading},welcomeText(e){return e.welcomeText}}},Lt={namespaced:!0,state:{prompts:[],currentPrompt:{title:"",prompt:""},response:"",loadingPrompts:{}},mutations:{SET_PROMPTS(e,t){e.prompts=t.prompts},SET_PROMPT_LOADING(e,{title:t,isLoading:a}){e.loadingPrompts={...e.loadingPrompts,[t]:a}},CLEAR_PROMPTS(e){e.prompts=[],e.loadingPrompts={}},SET_CURRENT_PROMPT(e,t){e.currentPrompt=t},SET_RESPONSE(e,t){e.response=t},CLEAR_RESPONSE(e){e.response=""}},actions:{async generatePrompts({commit:e,rootGetters:t}){const a=t["wordData/getWord"],d=t["settings/settings"],o=new G("AIzaSyBrdNobChTsFJ-ai5e3LlaTm1NZDogpWzM").getGenerativeModel({model:"gemini-1.5-flash",generationConfig:{responseMimeType:"application/json"}}),g=`
        Please provide an AI prompt that can be used for language learning with the word '${a.word}'. example : {"title": "Sentence Examples", "prompt": "Please use '${a.word}' to generate various example sentences."}. The "prompts" should be written in '${d.nativeLanguage}' and there should be no more than 4 prompts. The output using this JSON schema: { "type": "object", "prompts": { "title": { "type": "string" }, "prompt": { "type": "string" }, } } 
        `;let c=0;const l=3;for(console.log("\uBA85\uB839\uC5B4: ",g);c<l;)try{const f=await(await o.generateContent(g)).response.text();console.log("response:",f);const w=/{"prompts":\s*\[({\s*"title":\s*"(.*?)",\s*"prompt":\s*"(.*?)"})\s*(,\s*{\s*"title":\s*"(.*?)",\s*"prompt":\s*"(.*?)"})*\]}/g.exec(f);if(w){const I=w[0];try{const C=JSON.parse(I);console.log("\uCD94\uCD9C\uB41C JSON \uB370\uC774\uD130:",C),e("SET_PROMPTS",C);return}catch(C){throw console.error("JSON \uD30C\uC2F1 \uC624\uB958:",C),C}}else throw console.error("JSON \uB370\uC774\uD130\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."),new Error("JSON \uB370\uC774\uD130\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.")}catch(h){if(console.error("\uC624\uB958 \uBC1C\uC0DD:",h),c++,h.message.includes("503"))console.log(`\uC7AC\uC2DC\uB3C4 ${c}\uD68C`),await new Promise(f=>setTimeout(f,2e3));else throw h}console.error("\uCD5C\uB300 \uC7AC\uC2DC\uB3C4 \uD69F\uC218 \uCD08\uACFC")},async fetchResponse({commit:e,state:t,dispatch:a}){e("SET_RESPONSE","");const{currentPrompt:d}=t;if(a("status/startLoading",{},{root:!0}),!d.prompt){console.error("currentPrompt.prompt\uAC00 \uC124\uC815\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.");return}e("SET_PROMPT_LOADING",{title:d.title,isLoading:!0});try{const o=new G("AIzaSyBrdNobChTsFJ-ai5e3LlaTm1NZDogpWzM").getGenerativeModel({model:"gemini-1.5-flash"}),g=`
          ${d.prompt}
          Please respond in JSON format. The response should be a JSON object with the following structure:
          {
            "response": "<Response Content>"
          }
          Ensure the JSON is well-formatted and includes only this JSON object with no additional text or formatting.
        `;let l=await(await o.generateContent(g)).response.text();const h=l.match(/^\s*```json\s*([\s\S]+?)\s*```/);h&&(l=h[1]);let f;try{f=JSON.parse(l),console.log("Parsed JSON response:",f),f.response?e("SET_RESPONSE",f.response):(console.error("\uC751\uB2F5 JSON\uC758 'response' \uD544\uB4DC\uAC00 \uB204\uB77D\uB418\uC5C8\uC2B5\uB2C8\uB2E4."),e("SET_RESPONSE","\uC751\uB2F5 JSON\uC758 'response' \uD544\uB4DC\uAC00 \uB204\uB77D\uB418\uC5C8\uC2B5\uB2C8\uB2E4."))}catch(A){console.error("\uC751\uB2F5 JSON \uD30C\uC2F1 \uC624\uB958:",A),e("SET_RESPONSE","\uC751\uB2F5 \uD615\uC2DD \uC624\uB958")}}catch(s){console.error("\uC751\uB2F5\uC744 \uAC00\uC838\uC624\uB294 \uC911 \uC624\uB958 \uBC1C\uC0DD:",s)}finally{e("SET_PROMPT_LOADING",{title:d.title,isLoading:!1}),a("status/stopLoading",{},{root:!0})}},setCurrentPrompt({commit:e},t){e("SET_CURRENT_PROMPT",t)},startLoading({commit:e}){e("SET_LOADING",!0)},stopLoading({commit:e}){e("SET_LOADING",!1)},clearPrompts({commit:e}){e("CLEAR_PROMPTS")},clearResponse({commit:e}){e("CLEAR_RESPONSE")}},getters:{prompts:e=>e.prompts,loadingPrompts:e=>e.loadingPrompts,currentPrompt:e=>e.currentPrompt,response:e=>e.response}},xt={english:"en",spanish:"es",chinese:"zh",french:"fr",german:"de",japanese:"ja",korean:"ko",italian:"it",portuguese:"pt",russian:"ru",arabic:"ar",hindi:"hi",vietnamese:"vi",thai:"th",turkish:"tr",swedish:"sv",dutch:"nl",polish:"pl",greek:"el",hebrew:"he"};function It(e){return xt[e.toLowerCase()]||"en"}const Ct={namespaced:!0,state:{translations:{common:{button:{signin:"Sign in",signup:"Sign up",signout:"Sign Out",generate:"AI Generate",generating:"AI Generating..",retry:"Retry"},message:{welcome:"Achieve mastery in 20 languages with Gemini AI's personalized learning!",error:"An error occurred. Please try again.",empty:"No content available"}},settings:{button:{next:"Next Step",previous:"Previous",search:"Search",save:"Save",saving:"Saving..."},option:{general:"General",topic:"Topic",exam:"Exam",word:"\u{1F4C4} Word",vocabulary:"\u{1F4DD} Vocabulary",conversation:"\u{1F5E3}\uFE0F Conversation",grammar:"\u{1F4DA} Grammar",travel:"\u2708\uFE0F Travel",dining:"\u{1F374} Dining",shopping:"\u{1F6CD}\uFE0F Shopping",work:"\u{1F4BC} Work",social:"\u{1F465} Social",culture:"\u{1F3AD} Culture",it:"\u{1F4BB} IT",medical:"\u{1F3E5} Medical",family:"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F466} Family",easy:"Easy",hard:"Hard",beginner:"Beginner",intermediate:"Intermediate",advanced:"Advanced"},message:{step1:"Please select your native language.",step2:"Please select the language you want to learn.",step3:"Please specify your purpose for learning this language.",step4:"Please select your current language level.",native:"Native Language",language:"Choose Language",purpose:"Purpose",level:"Language Level"}}}},mutations:{SET_TRANSLATIONS(e,t){e.translations=t}},actions:{async generateTranslations({commit:e,rootGetters:t,state:a,dispatch:d}){const s=t["settings/settings"],o=a,g=It(s.nativeLanguage);console.log("nativeLanguage: ",s.nativeLanguage),console.log("languageCode: ",g);const l=new G("AIzaSyBrdNobChTsFJ-ai5e3LlaTm1NZDogpWzM").getGenerativeModel({model:"gemini-1.5-flash",generationConfig:{responseMimeType:"application/json"}}),h=JSON.stringify(o);let f=0;const A=3;for(console.log("\uD14D\uC2A4\uD2B8:",h);f<A;)try{const w=`
          Translate the following text into '${g}': ${h}
          
translations using this JSON schema:
{
"type": "object",
  "translations": {
    "common": {
      "button": {
        "signin": { "type": "string" },
        "signup": { "type": "string" },
        "signout": { "type": "string" },
        "generate": { "type": "string" },
        "generating": { "type": "string" },
        "retry": { "type": "string" }
      },
      "message": {
        "welcome": { "type": "string" },
        "error": { "type": "string" },
        "empty": { "type": "string" }
      }
    },
    "settings": {
      "button": {
        "next": { "type": "string" },
        "previous": { "type": "string" },
        "search": { "type": "string" },
        "save": { "type": "string" }
      },
      "option": {
        "general": { "type": "string" },
        "topic": { "type": "string" },
        "exam": { "type": "string" },
        "word": { "type": "string" },
        "vocabulary": { "type": "string" },
        "conversation": { "type": "string" },
        "grammar": { "type": "string" },
        "travel": { "type": "string" },
        "dining": { "type": "string" },
        "shopping": { "type": "string" },
        "work": { "type": "string" },
        "social": { "type": "string" },
        "culture": { "type": "string" },
        "it": { "type": "string" },
        "medical": { "type": "string" },
        "family": { "type": "string" },
        "easy": { "type": "string" },
        "hard": { "type": "string" },
        "beginner": { "type": "string" },
        "intermediate": { "type": "string" },
        "advanced": { "type": "string" }
      },
      "message": {
        "step1": { "type": "string" },
        "step2": { "type": "string" },
        "step3": { "type": "string" },
        "step4": { "type": "string" },
        "native": { "type": "string" },
        "language": { "type": "string" },
        "purpose": { "type": "string" },
        "level": { "type": "string" }
      }
    }
  }
}
          `,C=await(await l.generateContent(w)).response.text();console.log("\uC751\uB2F5 \uC804\uCCB4:",C);const E=C.replace(/^```json\s*/,"").replace(/\s*```$/,"").trim();try{const S=JSON.parse(E);if(console.log("\uD30C\uC2F1\uB41C JSON \uB370\uC774\uD130:",S),S&&S.translations){e("SET_TRANSLATIONS",S.translations);return}else throw console.error("translations \uB370\uC774\uD130\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."),new Error("translations \uB370\uC774\uD130\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.")}catch(S){throw console.error("JSON \uD30C\uC2F1 \uC624\uB958:",S),S}}catch(w){if(console.error("\uC624\uB958 \uBC1C\uC0DD:",w),f++,w.message.includes("503"))console.log(`\uC7AC\uC2DC\uB3C4 ${f}\uD68C`),await new Promise(I=>setTimeout(I,2e3));else throw w}console.error("\uCD5C\uB300 \uC7AC\uC2DC\uB3C4 \uD69F\uC218 \uCD08\uACFC")}},getters:{translations:e=>e.translations,common:e=>e.translations.common,settings:e=>e.translations.settings}},Pt={namespaced:!0,state:{options:{language:[{label:"English",value:"english"},{label:"\uD55C\uAD6D\uC5B4",value:"korean"},{label:"Espa\xF1ol",value:"spanish"},{label:"\u4E2D\u6587",value:"chinese"},{label:"Fran\xE7ais",value:"french"},{label:"Deutsch",value:"german"},{label:"\u65E5\u672C\u8A9E",value:"japanese"},{label:"Italiano",value:"italian"},{label:"Portugu\xEAs",value:"portuguese"},{label:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439",value:"russian"},{label:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",value:"arabic"},{label:"\u0939\u093F\u0928\u094D\u0926\u0940",value:"hindi"},{label:"Ti\u1EBFng Vi\u1EC7t",value:"vietnamese"},{label:"\u0E44\u0E17\u0E22",value:"thai"},{label:"T\xFCrk\xE7e",value:"turkish"},{label:"Svenska",value:"swedish"},{label:"Nederlands",value:"dutch"},{label:"Polski",value:"polish"},{label:"\u0395\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC",value:"greek"},{label:"\u05E2\u05D1\u05E8\u05D9\u05EA",value:"hebrew"}],goalType:[{label:"English",value:"general"},{label:"English",value:"exam"},{label:"English",value:"general"}],general:[{label:"English",value:"vocabulary"},{label:"English",value:"conversation"},{label:"English",value:"grammar"}],topic:[{label:"English",value:"travel"},{label:"English",value:"dining"},{label:"English",value:"shopping"},{label:"English",value:"work"},{label:"English",value:"social"},{label:"English",value:"culture"},{label:"English",value:"it"},{label:"English",value:"medical"},{label:"English",value:"family"}],exam:[{label:"toefl",value:"toefl"},{label:"IELTS",value:"ielts"},{label:"toeic",value:"toeic"},{label:"JLPT",value:"jlpt"},{label:"HSK",value:"hsk"},{label:"TOPIK",value:"topik"},{label:"KLAT",value:"klat"},{label:"DELF / DALF",value:"delf dalf"},{label:"Test Daf",value:"test daf"},{label:"Goethe-Zertifikat",value:"goethe-zertifikat"},{label:"DELE",value:"dele"},{label:"CILS",value:"cils"},{label:"CELI",value:"celi"},{label:"CELPE-Bras",value:"celpe-bras"},{label:"ALPT",value:"alpt"}]}},getters:{language:e=>e.options.language,exam:e=>e.options.exam}},Et={apiKey:"AIzaSyBL2ocTE6GkRA104qZBICH4WpPrlRzOP8c",authDomain:"hello-wordy.firebaseapp.com",projectId:"hello-wordy",storageBucket:"hello-wordy.appspot.com",messagingSenderId:"192483386403",appId:"1:192483386403:web:349d76e2719009ca71bd96",measurementId:"G-V0CKTG6HCM"},J=de(Et);ue(J);const U=pe(J),N=ge(J);_e(J);const At={},Mt=e=>(L("data-v-61c9be4a"),e=e(),x(),e),Rt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 288 66",role:"presentation"},Dt=Mt(()=>n("g",null,[n("path",{class:"st0",d:`M3,37.7c3.1-1.8,10-6.1,12.5-8.7 M19.7,24c2.1-2.2,6.4-7.6,7.3-15.5c0.7-6.3-5.7-7.4-7.7-1.8
	c-1.7,4.5-2.5,18.6-3.4,25.4 M14.3,39.5c0.6-3.9,2.2-11.8,4.9-15c3-3.5,8.8-4.4,9.5,1.5c0.5,4.2-2.3,10.4,0.5,12.6
	c2.8,2.1,9.7,0.3,12.7-1.7 M42.3,36.5c2.9-1.4,6.9-4.4,8.2-8.9c1.7-5.9-4.9-8.5-8.6-4.2c-2.9,3.3-3.4,10.2,0.6,13.2 M41.4,35.6
	c2.7,3.6,11.7,6.7,19.7-1.7 M62.6,32.4c2.3-2.8,7.1-9.4,8.7-15.2c2-7.2,2.4-12.3-0.3-13.6c-3-1.5-6.8,2.6-8.4,10.9
	c-1.2,5.9-1.4,9-1.4,13.4 M61.1,28.1c-0.1,3.7,1,11.4,7.5,11.6c7.5,0.2,12.8-6.8,15.1-10.3 M83.9,29.2c2-3.1,5.5-10,6.9-15.8
	c1.7-6.6,0.8-9-1.5-9.7c-2.9-1-6.1,2.9-7.7,9.7c-1.4,6.2-2.9,14.4-1.1,19.7 M79.9,30c0.4,4.2,3.6,9.4,7.7,9.6
	c5.4,0.2,9.2-3.9,11.7-11.5 M99.4,28.1c-1.3,5.4-0.1,11.7,6.3,11.5c6.3-0.3,8.1-6.6,8.1-9.7c0.3-3-0.7-8.7-6.8-8.7 M99.5,27.6
	c0.6-2.1,2.9-6.4,7.2-6.4c5.4,0,4.9,2.6,8.8,2.5c3.1-0.1,5.5-2.2,6.3-3.2 M124.9,39c0,0,0.8,4.6-2.9,10 M148.7,18.4
	c-9.7,26,9.2,28.6,12.7,6.5c0.2-1.2-1.5-1.6-1.8-0.4 M159.4,24.2c-2,7,1,19.6,8.3,14.5c0,0,0,0,0,0c4.3-3.4,9.1-15,8.1-22 M176.2,17
	c-0.2-1.3-2-1.6-2.7-0.4c-7.9,13.8,3.6,25.7,11.9,9.4 M184.4,28.1c-1.3,5.4-0.1,11.7,6.3,11.5c6.3-0.3,8.1-6.6,8.1-9.7
	c0.3-3-0.7-8.7-6.8-8.7 M184.6,27.8c0.6-2.2,3.3-6.7,9.3-6.7c6,0,6.1,3.1,9.7,3c2.3-0.1,3.1-0.7,4.1-7.4 M207.5,16.9
	c0.2-1.3-1.6-1.7-2-0.4c-0.7,2.4-0.5,5.3,2,5.5 M207.5,22c2.1,0.2,3.5-2.2,5.6-1.9c0.8,0.4,0.6,1.7,0.3,2.6
	c-1.5,4.9-1.5,8.5-1.3,11.4 M224.6,29.7c-0.4,2-1.2,9.8-7.8,9.8c-4.3,0-4.6-5.6-4.6-5.6 M237.3,30.8c-5.7,8.1-8.8,9.9-11.3,7.8
	c-3.9-3.3-1.2-18,6.3-14.6 M238.1,7.6c2.3-4.5,5.1-5.2,7.2-3c3.2,4.7-3.9,20.4-7.2,24.9 M252,28c-1.5,4.6-3.8,11.4-9.2,11.9
	c-12.4,1.4-8.8-22-4.8-31.9 M253.5,23.5c0,0-2.1,5.4-2,11c0.1,5.6,2.5,5.4,4.1,4.4c1.6-1,4.4-3.9,6.2-8.3c1.9-4.4,2.7-7.1,2.7-7.1
	 M263.8,25.7c0,0-1.6,16.4-3.6,23.9s-5,12.6-7.2,13c-2.1,0.5-6.9-1.6-4.2-6.4s5.5-7.9,7.1-9.4c1.6-1.5,5.1-3.8,5.1-3.8 M282.8,5
	l-6,24.2 M274.8,40.7c0.9,0,1.7-0.7,1.7-1.7c0-0.9-0.7-1.7-1.7-1.7s-1.7,0.7-1.7,1.7C273.1,40,273.8,40.7,274.8,40.7z`})],-1)),Ot=[Dt];function Nt(e,t,a,d,s,o){return i(),u("svg",Rt,Ot)}const Gt=v(At,[["render",Nt],["__scopeId","data-v-61c9be4a"]]);const Wt={components:{logo:Gt},computed:{...k({common:"translations/common"})}},Ft={class:"welcomeText"},zt={class:"font-size_16 font-weight_400 line-height_168 text-align_center width_50 opacity_90"};function Vt(e,t,a,d,s,o){const g=p("logo");return i(),u("div",Ft,[r(g,{class:"logo"}),n("div",zt,m(e.common.message.welcome),1)])}const jt=v(Wt,[["render",Vt],["__scopeId","data-v-577beea7"]]);const Jt={components:{wordData:z,google:V,generate:j,welcomeText:jt},data(){return{dialog:!1,userLanguage:navigator.language||navigator.userLanguage}},computed:{...k({isLoading:"status/isLoading",welcomeText:"status/welcomeText",common:"translations/common"}),userLanguageName(){return{en:"english",es:"spanish",zh:"chinese",fr:"french",de:"german",ja:"japanese",ko:"korean",it:"italian",pt:"portuguese",ru:"russian",ar:"arabic",hi:"hindi",vi:"vietnamese",th:"thai",tr:"turkish",sv:"swedish",nl:"dutch",pl:"polish",el:"greek",he:"hebrew"}[this.userLanguage.split("-")[0]]||this.userLanguage}},methods:{...M({generateWord:"wordData/generateWord",signInWithGoogle:"users/signInWithGoogle",updateNativeLanguage:"settings/updateNativeLanguage",updateWelcomeText:"status/updateWelcomeText",generateTranslations:"translations/generateTranslations"}),async handleSignInWithGoogle(){try{await this.signInWithGoogle()}catch{}},goToSettings(){this.$router.push({name:"settings"})}},created(){this.updateNativeLanguage(this.userLanguageName),this.updateWelcomeText(!0),this.generateTranslations()},beforeRouteLeave(e,t,a){this.updateWelcomeText(!1),a()}},Bt=e=>(L("data-v-3b50a658"),e=e(),x(),e),Ut={class:"routerView"},Ht={class:"bottom-wrap"},qt={class:"button-wrap"},Kt={key:0,class:"loading",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Zt=Bt(()=>n("path",{fill:"none",stroke:"currentColor","stroke-dasharray":"15","stroke-dashoffset":"15","stroke-linecap":"round","stroke-width":"2.4",d:"M12 3C16.9706 3 21 7.02944 21 12"},[n("animate",{fill:"freeze",attributeName:"stroke-dashoffset",dur:"0.3s",values:"15;0"}),n("animateTransform",{attributeName:"transform",dur:"1.5s",repeatCount:"indefinite",type:"rotate",values:"0 12 12;360 12 12"})],-1)),Qt=[Zt],Xt={key:2},Yt={key:3};function es(e,t,a,d,s,o){const g=p("wordData"),c=p("welcomeText"),l=p("google"),h=p("icon"),f=p("buttonOutline"),A=p("generate");return i(),u("div",Ut,[r(g),n("div",Ht,[e.welcomeText?(i(),T(c,{key:0})):b("",!0),n("div",qt,[r(f,{icon:"top",class:"sign",onClick:o.handleSignInWithGoogle},{default:_(()=>[r(h,{class:"icon_24"},{default:_(()=>[r(l)]),_:1}),n("span",null,m(e.common.button.signin)+" / "+m(e.common.button.signup),1)]),_:1},8,["onClick"]),r(f,{icon:"top",class:y(["generate",{disabled:e.isLoading}]),onClick:o.goToSettings},{default:_(()=>[e.isLoading?(i(),u("svg",Kt,Qt)):(i(),T(h,{key:1,class:"icon_24"},{default:_(()=>[r(A)]),_:1})),e.isLoading?(i(),u("span",Xt,m(e.common.button.generating),1)):(i(),u("span",Yt,m(e.common.button.generate),1))]),_:1},8,["class","onClick"])])])])}const ts=v(Jt,[["render",es],["__scopeId","data-v-3b50a658"]]);const ss={props:{currentStep:{type:[String,Number],default:"1"}},computed:{...k({settings:"translations/settings"}),currentMessage(){return{1:this.settings.message.step1,2:this.settings.message.step2,3:this.settings.message.step3,4:this.settings.message.step4}[this.currentStep]||""}}},ns={class:"currentMessage font-size_32 font-weight_700 pa_24"};function os(e,t,a,d,s,o){return i(),u("div",ns,m(o.currentMessage),1)}const as=v(ss,[["render",os],["__scopeId","data-v-cf07df8b"]]),is={},rs=n("circle",{cx:"112",cy:"112",r:"80"},null,-1),ls=n("line",{x1:"168.57",y1:"168.57",x2:"224",y2:"224"},null,-1);function cs(e,t){return i(),u(R,null,[rs,ls],64)}const ds=v(is,[["render",cs]]);const us={components:{search:ds},props:{currentStep:{type:[String,Number],default:"1"},language:{type:String}},data(){return{languageSearch:""}},computed:{...k({settings:"translations/settings",languageOptions:"options/language"}),filteredLanguages(){const e=this.languageSearch.toLowerCase();return this.languageOptions.filter(t=>t.label.toLowerCase().includes(e)||t.value.toLowerCase().includes(e))}},methods:{updateLanguage(e){this.$emit("update:language",e)}}},ps={class:"settingsLanguage"},gs={class:"buttonOption-wrap"},_s=["src"];function ms(e,t,a,d,s,o){const g=p("search"),c=p("icon"),l=p("textField"),h=p("buttonOption");return i(),u("div",ps,[r(l,{modelValue:s.languageSearch,"onUpdate:modelValue":t[0]||(t[0]=f=>s.languageSearch=f),label:e.settings.button.search},{default:_(()=>[r(c,null,{default:_(()=>[r(g)]),_:1})]),_:1},8,["modelValue","label"]),n("div",gs,[(i(!0),u(R,null,H(o.filteredLanguages,f=>(i(),T(h,{key:f.value,class:y({selected:a.language===f.value}),onClick:A=>o.updateLanguage(f.value)},{default:_(()=>[n("img",{class:"icon_24",src:`https://hello-wordy.web.app/image/${f.value}.png`},null,8,_s),n("span",null,m(f.label),1)]),_:2},1032,["class","onClick"]))),128))])])}const hs=v(us,[["render",ms],["__scopeId","data-v-7de46b17"]]);const fs={props:{goalType:{type:String},goal:{type:String}},data(){return{}},computed:{...k({settings:"translations/settings",exam:"options/exam"})},methods:{updateGoalType(e){this.$emit("update:goalType",e)},updateGoal(e){this.$emit("update:goal",e)}}},vs={class:"settingsGoal"},ys={class:"display_flex"},bs={key:0,class:"button-wrap"},$s={key:1,class:"button-wrap"},ws={key:2,class:"button-wrap"},Ss=["src"];function Ts(e,t,a,d,s,o){const g=p("buttonTab"),c=p("buttonChip");return i(),u("div",vs,[n("div",ys,[r(g,{class:y({selected:a.goalType==="general"}),onClick:t[0]||(t[0]=l=>o.updateGoalType("general"))},{default:_(()=>[$(m(e.settings.option.general),1)]),_:1},8,["class"]),r(g,{class:y({selected:a.goalType==="topic"}),onClick:t[1]||(t[1]=l=>o.updateGoalType("topic"))},{default:_(()=>[$(m(e.settings.option.topic),1)]),_:1},8,["class"]),r(g,{class:y({selected:a.goalType==="exam"}),onClick:t[2]||(t[2]=l=>o.updateGoalType("exam"))},{default:_(()=>[$(m(e.settings.option.exam),1)]),_:1},8,["class"])]),a.goalType==="general"?(i(),u("div",bs,[r(c,{class:y({selected:a.goal==="word"}),onClick:t[3]||(t[3]=l=>o.updateGoal("word"))},{default:_(()=>[$(m(e.settings.option.word),1)]),_:1},8,["class"]),r(c,{class:y({selected:a.goal==="vocabulary"}),onClick:t[4]||(t[4]=l=>o.updateGoal("vocabulary"))},{default:_(()=>[$(m(e.settings.option.vocabulary),1)]),_:1},8,["class"]),r(c,{class:y({selected:a.goal==="conversation"}),onClick:t[5]||(t[5]=l=>o.updateGoal("conversation"))},{default:_(()=>[$(m(e.settings.option.conversation),1)]),_:1},8,["class"]),r(c,{class:y({selected:a.goal==="grammar"}),onClick:t[6]||(t[6]=l=>o.updateGoal("grammar"))},{default:_(()=>[$(m(e.settings.option.grammar),1)]),_:1},8,["class"])])):b("",!0),a.goalType==="topic"?(i(),u("div",$s,[r(c,{class:y({selected:a.goal==="travel"}),onClick:t[7]||(t[7]=l=>o.updateGoal("travel"))},{default:_(()=>[$(m(e.settings.option.travel),1)]),_:1},8,["class"]),r(c,{class:y({selected:a.goal==="dining"}),onClick:t[8]||(t[8]=l=>o.updateGoal("dining"))},{default:_(()=>[$(m(e.settings.option.dining),1)]),_:1},8,["class"]),r(c,{class:y({selected:a.goal==="shopping"}),onClick:t[9]||(t[9]=l=>o.updateGoal("shopping"))},{default:_(()=>[$(m(e.settings.option.shopping),1)]),_:1},8,["class"]),r(c,{class:y({selected:a.goal==="work"}),onClick:t[10]||(t[10]=l=>o.updateGoal("work"))},{default:_(()=>[$(m(e.settings.option.work),1)]),_:1},8,["class"]),r(c,{class:y({selected:a.goal==="social"}),onClick:t[11]||(t[11]=l=>o.updateGoal("social"))},{default:_(()=>[$(m(e.settings.option.social),1)]),_:1},8,["class"]),r(c,{class:y({selected:a.goal==="culture"}),onClick:t[12]||(t[12]=l=>o.updateGoal("culture"))},{default:_(()=>[$(m(e.settings.option.culture),1)]),_:1},8,["class"]),r(c,{class:y({selected:a.goal==="it"}),onClick:t[13]||(t[13]=l=>o.updateGoal("it"))},{default:_(()=>[$(m(e.settings.option.it),1)]),_:1},8,["class"]),r(c,{class:y({selected:a.goal==="medical"}),onClick:t[14]||(t[14]=l=>o.updateGoal("medical"))},{default:_(()=>[$(m(e.settings.option.medical),1)]),_:1},8,["class"]),r(c,{class:y({selected:a.goal==="family"}),onClick:t[15]||(t[15]=l=>o.updateGoal("family"))},{default:_(()=>[$(m(e.settings.option.family),1)]),_:1},8,["class"])])):b("",!0),a.goalType==="exam"?(i(),u("div",ws,[(i(!0),u(R,null,H(e.exam,l=>(i(),T(c,{key:l.value,class:y({selected:a.goal===l.value}),onClick:h=>o.updateGoal(l.value)},{default:_(()=>[n("img",{class:"icon_32",src:`https://hello-wordy.web.app/image/${l.value}.png`},null,8,Ss),n("span",null,m(l.label),1)]),_:2},1032,["class","onClick"]))),128))])):b("",!0)])}const ks=v(fs,[["render",Ts],["__scopeId","data-v-e51f596d"]]);const Ls={components:{settingsMessage:as,settingsLanguage:hs,settingsGoal:ks},data(){return{currentStep:1,form:{nativeLanguage:"",targetLanguage:"",goalType:"",goal:"",difficulty:""}}},computed:{...k({settingsText:"translations/settings",settings:"settings/settings",isAuthenticated:"users/isAuthenticated"})},methods:{...M({updateSettings:"settings/updateSettings",updateSettingsWithoutAuth:"settings/updateSettingsWithoutAuth",generateTranslations:"translations/generateTranslations",startLoading:"status/startLoading"}),nextStep(){this.currentStep<4&&this.currentStep++},prevStep(){this.currentStep>1&&this.currentStep--},updateFormWithSettings(){this.form={...this.settings}},async saveSettings(){try{this.isAuthenticated?(this.startLoading(),await this.updateSettings(this.form),await this.generateTranslations()):(this.startLoading(),await this.updateSettingsWithoutAuth(this.form),await this.generateTranslations()),this.$router.push({name:"learning"})}catch(e){console.error("Settings save failed:",e),alert("Failed to save settings")}}},async created(){await this.updateFormWithSettings()}},Y=e=>(L("data-v-90a47f1e"),e=e(),x(),e),xs={class:"routerView"},Is={class:"font-size_14 pa_24"},Cs=Y(()=>n("div",{class:"sp_8"},null,-1)),Ps=Y(()=>n("div",{class:"spacing-1"},null,-1)),Es={key:3,class:"button-wrap"},As={key:4,class:"button-wrap"},Ms={key:5,class:"button-wrap"};function Rs(e,t,a,d,s,o){const g=p("settingsMessage"),c=p("settingsLanguage"),l=p("settingsGoal"),h=p("buttonOutline");return i(),u("div",xs,[n("div",Is,"STEP "+m(s.currentStep),1),Cs,r(g,{currentStep:s.currentStep},null,8,["currentStep"]),Ps,s.currentStep===1?(i(),T(c,{key:0,language:s.form.nativeLanguage,"onUpdate:language":t[0]||(t[0]=f=>s.form.nativeLanguage=f)},null,8,["language"])):b("",!0),s.currentStep===2?(i(),T(c,{key:1,language:s.form.targetLanguage,"onUpdate:language":t[1]||(t[1]=f=>s.form.targetLanguage=f)},null,8,["language"])):b("",!0),s.currentStep===3?(i(),T(l,{key:2,goalType:s.form.goalType,"onUpdate:goalType":t[2]||(t[2]=f=>s.form.goalType=f),goal:s.form.goal,"onUpdate:goal":t[3]||(t[3]=f=>s.form.goal=f)},null,8,["goalType","goal"])):b("",!0),s.currentStep===1?(i(),u("div",Es,[r(h,{class:y(["nextStep1",{disabled:s.form.nativeLanguage===""}]),onClick:o.nextStep},{default:_(()=>[n("span",null,m(e.settingsText.button.next),1)]),_:1},8,["onClick","class"])])):b("",!0),s.currentStep===2?(i(),u("div",As,[r(h,{class:"prevStep",onClick:o.prevStep},{default:_(()=>[n("span",null,m(e.settingsText.button.previous),1)]),_:1},8,["onClick"]),r(h,{class:y(["nextStep",{disabled:s.form.targetLanguage===""}]),onClick:o.nextStep},{default:_(()=>[n("span",null,m(e.settingsText.button.next),1)]),_:1},8,["onClick","class"])])):b("",!0),s.currentStep===3?(i(),u("div",Ms,[r(h,{class:"prevStep",onClick:o.prevStep},{default:_(()=>[n("span",null,m(e.settingsText.button.previous),1)]),_:1},8,["onClick"]),r(h,{class:y(["nextStep",{disabled:s.form.goal===""}]),onClick:o.saveSettings},{default:_(()=>[n("span",null,m(e.settingsText.button.save),1)]),_:1},8,["onClick","class"])])):b("",!0)])}const Ds=v(Ls,[["render",Rs],["__scopeId","data-v-90a47f1e"]]);const Os={components:{Flicking:be},data(){return{plugins:[new $e({type:"bullet"})],fakePrompt:{title:"Loading 1",prompt:"This is a fake prompt for loading..."},firstPrompt:{title:"Sentence Examples",prompt:"Please use 'this.word.word' to generate various example sentences."},fakePrompts:[{title:"Loading 1",prompt:"This is a fake prompt for loading..."},{title:"Loading 2",prompt:"This is a fake prompt for loading..."},{title:"Loading 3",prompt:"This is a fake prompt for loading..."}],actualPrompts:[],textLoading:!0}},computed:{...k({prompts:"prompts/prompts",isLoading:"status/isLoading",loadingPrompts:"prompts/loadingPrompts",currentPrompt:"prompts/currentPrompt",word:"wordData/getWord"}),displayPrompts(){return[...this.actualPrompts.length>0?this.actualPrompts:this.fakePrompts]}},methods:{...M({generatePrompts:"prompts/generatePrompts",fetchResponse:"prompts/fetchResponse",setCurrentPrompt:"prompts/setCurrentPrompt",clearResponse:"prompts/clearResponse"}),async handlePromptClick(e,t){this.$router.push({name:"chat"}),this.setCurrentPrompt(e),await this.fetchResponse()}},watch:{prompts:{handler(e){this.actualPrompts=e,this.textLoading=e.length===0},immediate:!0}},created(){}},Ns=e=>(L("data-v-4d60f85a"),e=e(),x(),e),Gs={class:"flicking"},Ws=Ns(()=>n("div",{class:"flicking-pagination"},null,-1));function Fs(e,t,a,d,s,o){const g=p("card"),c=p("Flicking");return i(),u("div",Gs,[e.word.word?(i(),T(c,{key:0,ref:"flicking",options:{moveType:"snap",bound:!0},plugins:s.plugins},{viewport:_(()=>[Ws]),default:_(()=>[(i(!0),u(R,null,H(o.displayPrompts,(l,h)=>(i(),T(g,{class:y(["animated-card",{loading:e.loadingPrompts[l.title],selected:l===this.currentPrompt,textLoading:s.textLoading}]),key:l.title,title:l.title,prompt:l.prompt,onClick:f=>o.handlePromptClick(l,h)},null,8,["class","title","prompt","onClick"]))),128))]),_:1},8,["plugins"])):b("",!0)])}const ee=v(Os,[["render",Fs],["__scopeId","data-v-4d60f85a"]]);const zs={components:{wordData:z,google:V,generate:j,promptFlicking:ee},data(){return{dialog:!1}},computed:{...k({isLoading:"status/isLoading",settings:"settings/settings",common:"translations/common"})},methods:{...M({generateWord:"wordData/generateWord",signInWithGoogle:"users/signInWithGoogle",updateNativeLanguage:"settings/updateNativeLanguage",updateLogoText:"status/updateLogoText"}),async handleSignInWithGoogle(){try{await this.signInWithGoogle(),alert("\uB85C\uADF8\uC778 \uC131\uACF5!")}catch{}}},mounted(){this.generateWord()}},Vs=e=>(L("data-v-ca9a597e"),e=e(),x(),e),js={class:"routerView"},Js={class:"button-wrap"},Bs={key:0,class:"loading",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Us=Vs(()=>n("path",{fill:"none",stroke:"currentColor","stroke-dasharray":"15","stroke-dashoffset":"15","stroke-linecap":"round","stroke-width":"2.4",d:"M12 3C16.9706 3 21 7.02944 21 12"},[n("animate",{fill:"freeze",attributeName:"stroke-dashoffset",dur:"0.3s",values:"15;0"}),n("animateTransform",{attributeName:"transform",dur:"1.5s",repeatCount:"indefinite",type:"rotate",values:"0 12 12;360 12 12"})],-1)),Hs=[Us],qs={key:2},Ks={key:3};function Zs(e,t,a,d,s,o){const g=p("wordData"),c=p("promptFlicking"),l=p("generate"),h=p("icon"),f=p("buttonOutline");return i(),u("div",js,[r(g),r(c),n("div",Js,[r(f,{icon:"left",class:y(["generate",{disabled:e.isLoading}]),onClick:e.generateWord},{default:_(()=>[e.isLoading?(i(),u("svg",Bs,Hs)):(i(),T(h,{key:1,class:"icon_24"},{default:_(()=>[r(l)]),_:1})),e.isLoading?(i(),u("span",qs,m(e.common.button.generating),1)):(i(),u("span",Ks,m(e.common.button.generate),1))]),_:1},8,["class","onClick"])])])}const Qs=v(zs,[["render",Zs],["__scopeId","data-v-ca9a597e"]]);const Xs={computed:{...k({currentPrompt:"prompts/currentPrompt",response:"prompts/response"}),displayText(){return this.response?this.response.replace(/\n/g,"<br>"):""}},data(){return{displayedResponse:"",responseIndex:0,typingSpeed:10}},methods:{...M({fetchResponse:"prompts/fetchResponse"}),typeResponse(){this.response&&this.response.length>0&&setTimeout(()=>{this.displayedResponse+=this.response[this.responseIndex],this.responseIndex++,this.responseIndex<this.response.length&&this.typeResponse()},this.typingSpeed)}},watch:{response(e){e&&(this.displayedResponse="",this.responseIndex=0,this.typeResponse())}},created(){this.currentPrompt.prompt||this.$router.push({name:"learning"})}},Ys={class:"promptResponse"},en=["innerHTML"];function tn(e,t,a,d,s,o){return i(),u("div",Ys,[o.displayText?(i(),u("div",{key:0,class:"response",innerHTML:o.displayText},null,8,en)):b("",!0)])}const sn=v(Xs,[["render",tn],["__scopeId","data-v-64439e04"]]);const nn={computed:{...k({currentPrompt:"prompts/currentPrompt"})}},on=e=>(L("data-v-3cdc80f6"),e=e(),x(),e),an={class:"promptInput-wrap"},rn={class:"promptInput"},ln={class:"font-size_15 font-weight_700"},cn={class:"font-size_14 font-weight_400"},dn=on(()=>n("div",{class:"underlay"},null,-1));function un(e,t,a,d,s,o){return i(),u("div",an,[n("button",rn,[n("div",ln,m(e.currentPrompt.title),1),n("div",cn,m(e.currentPrompt.prompt),1),dn])])}const pn=v(nn,[["render",un],["__scopeId","data-v-3cdc80f6"]]);const gn={components:{wordData:z,google:V,generate:j,promptFlicking:ee,promptResponse:sn,promptInput:pn},data(){return{dialog:!1}},computed:{...k({isLoading:"status/isLoading",settings:"settings/settings"})},methods:{...M({generateWord:"wordData/generateWord",signInWithGoogle:"users/signInWithGoogle",updateNativeLanguage:"settings/updateNativeLanguage",updateLogoText:"status/updateLogoText"}),async handleSignInWithGoogle(){try{await this.signInWithGoogle(),alert("\uB85C\uADF8\uC778 \uC131\uACF5!")}catch{}}}},_n={class:"routerView"},mn={class:"response-wrap"},hn={class:"bottom-wrap"};function fn(e,t,a,d,s,o){const g=p("promptInput"),c=p("promptResponse"),l=p("promptFlicking");return i(),u("div",_n,[n("div",mn,[r(g),r(c)]),n("div",hn,[r(l)])])}const vn=v(gn,[["render",fn],["__scopeId","data-v-19ea300b"]]),yn={components:{},computed:{...k({})},methods:{}},bn={class:"routerView"};function $n(e,t,a,d,s,o){return i(),u("div",bn)}const wn=v(yn,[["render",$n]]),W=ve({history:ye(),routes:[{path:"/",name:"home",component:wn},{path:"/welcome",name:"welcome",component:ts},{path:"/settings",name:"settings",component:Ds},{path:"/learning",name:"learning",component:Qs},{path:"/chat",name:"chat",component:vn}]}),Sn={namespaced:!0,state:()=>({user:null,users:[]}),mutations:{setUser(e,t){e.user=t},setUsers(e,t){e.users=t}},actions:{async initAuthState({dispatch:e,commit:t,rootState:a}){console.log("initAuthState"),N.onAuthStateChanged(async d=>{d?(console.log("\uD68C\uC6D0"),console.log("user: ",d),t("setUser",d),await Promise.all([e("settings/getSettings",{},{root:!0})]),W.push({name:"learning"})):(t("setUser",null),console.log("\uD68C\uC6D0 \uC544\uB2D8"),W.push({name:"welcome"}))})},async signInWithGoogle({commit:e,dispatch:t}){try{const a=new me,d=await he(N,a);e("setUser",d.user);const s=B(U,"users",d.user.uid);(await Z(s)).exists()||await Q(s,{email:d.user.email,displayName:d.user.displayName||"",state:"user",photoURL:d.user.photoURL||"",createdAt:new Date})}catch(a){throw a}},async signOut({commit:e}){try{await fe(N)}catch(t){throw t}},ensureAuthReady({state:e}){return new Promise(t=>{if(e.user)t();else{const a=N.onAuthStateChanged(d=>{a(),t()})}})}},getters:{getUserID:e=>e.user?e.user.uid:null,getDisplayName:e=>e.user?e.user.displayName:null,getPhotoURL:e=>e.user?e.user.photoURL:null,isAuthenticated(e){return!!e.user},getUser:e=>e.user,getUsers:e=>e.users}},Tn={namespaced:!0,state:{settings:{nativeLanguage:"",targetLanguage:"random language",goalType:"general",goal:"at the time of welcoming",difficulty:"beginner"}},mutations:{SET_NATIVE_LANGUAGE(e,t){e.settings.nativeLanguage=t},SET_LEARNING_DATA(e,t){e.settings=t.settings}},actions:{async getSettings({commit:e,dispatch:t,rootGetters:a}){try{await t("users/ensureAuthReady",{},{root:!0});const d=a["users/getUserID"];if(!d)throw new Error("\uC0AC\uC6A9\uC790 \uC778\uC99D \uC815\uBCF4\uAC00 \uB204\uB77D\uB418\uC5C8\uC2B5\uB2C8\uB2E4.");const s=B(U,"settings",d),o=await Z(s);if(!o.exists())W.push({name:"settings"});else{const g=o.data();e("SET_LEARNING_DATA",g),t("translations/generateTranslations",{},{root:!0})}}catch(d){console.error("\uD559\uC2B5 \uC815\uBCF4 \uBD88\uB7EC\uC624\uAE30 \uC2E4\uD328:",d)}},async updateSettings({commit:e,rootGetters:t,dispatch:a},d){try{await a("users/ensureAuthReady",{},{root:!0});const s=t["users/getUserID"];if(!s)throw new Error("\uC0AC\uC6A9\uC790 \uC778\uC99D \uC815\uBCF4\uAC00 \uB204\uB77D\uB418\uC5C8\uC2B5\uB2C8\uB2E4.");const o={settings:d},g=B(U,"settings",s);await Q(g,o,{merge:!0}),await e("SET_LEARNING_DATA",o.settings)}catch(s){console.error("\uD559\uC2B5 \uB370\uC774\uD130 \uC800\uC7A5/\uC5C5\uB370\uC774\uD2B8 \uC2E4\uD328:",s)}},async updateSettingsWithoutAuth({commit:e},t){try{await e("SET_LEARNING_DATA",{settings:t})}catch(a){console.error("\uD559\uC2B5 \uB370\uC774\uD130 \uC800\uC7A5/\uC5C5\uB370\uC774\uD2B8 \uC2E4\uD328:",a)}},updateNativeLanguage({commit:e},t){console.log("000",t),e("SET_NATIVE_LANGUAGE",t)}},getters:{settings:e=>e.settings}},te=ie({modules:{wordData:Tt,status:kt,prompts:Lt,translations:Ct,options:Pt,users:Sn,settings:Tn}});const kn={props:{icon:{type:String,default:"none"}}},se=e=>(L("data-v-84455eab"),e=e(),x(),e),Ln=se(()=>n("div",{class:"outline"},null,-1)),xn=se(()=>n("div",{class:"underlay"},null,-1));function In(e,t,a,d,s,o){return i(),u("button",{class:y(["buttonOutline",{"icon-top":a.icon==="top","icon-left":a.icon==="left"}])},[P(e.$slots,"default",{},void 0,!0),Ln,xn],2)}const Cn=v(kn,[["render",In],["__scopeId","data-v-84455eab"]]);const Pn={props:{icon:{type:String,default:"none"},size:{type:String,default:"40"}},computed:{buttonStyle(){const e=`${parseInt(this.size,10)}px`;return{width:e,height:e}}}},En=e=>(L("data-v-db5fcee0"),e=e(),x(),e),An=En(()=>n("div",{class:"underlay"},null,-1));function Mn(e,t,a,d,s,o){return i(),u("button",{class:"buttonIcon",style:re(o.buttonStyle)},[P(e.$slots,"default",{},void 0,!0),An],4)}const Rn=v(Pn,[["render",Mn],["__scopeId","data-v-db5fcee0"]]);const Dn={props:{}},ne=e=>(L("data-v-3e1c3323"),e=e(),x(),e),On={class:"buttonTab"},Nn=ne(()=>n("div",{class:"underlay"},null,-1)),Gn=ne(()=>n("div",{class:"outline"},null,-1));function Wn(e,t,a,d,s,o){return i(),u("button",On,[P(e.$slots,"default",{},void 0,!0),Nn,Gn])}const Fn=v(Dn,[["render",Wn],["__scopeId","data-v-3e1c3323"]]),zn={},Vn={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256"},jn=n("polyline",{points:"40 144 96 200 224 72",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"24"},null,-1),Jn=[jn];function Bn(e,t){return i(),u("svg",Vn,Jn)}const q=v(zn,[["render",Bn]]);const Un={components:{check:q},props:{}},Hn=e=>(L("data-v-cd03d31e"),e=e(),x(),e),qn={class:"buttonOption"},Kn={class:"display_flex align-items_center gap_12"},Zn=Hn(()=>n("div",{class:"underlay"},null,-1));function Qn(e,t,a,d,s,o){const g=p("check"),c=p("icon");return i(),u("button",qn,[n("div",Kn,[P(e.$slots,"default",{},void 0,!0)]),r(c,{class:"check icon_16"},{default:_(()=>[r(g)]),_:1}),Zn])}const Xn=v(Un,[["render",Qn],["__scopeId","data-v-cd03d31e"]]);const Yn={components:{check:q},props:{}},eo=e=>(L("data-v-00244c5a"),e=e(),x(),e),to={class:"buttonChip"},so={class:"display_flex align-items_center gap_4"},no=eo(()=>n("div",{class:"underlay"},null,-1));function oo(e,t,a,d,s,o){const g=p("check"),c=p("icon");return i(),u("button",to,[r(c,{class:"check icon_14"},{default:_(()=>[r(g)]),_:1}),n("div",so,[P(e.$slots,"default",{},void 0,!0)]),no])}const ao=v(Yn,[["render",oo],["__scopeId","data-v-00244c5a"]]);const io={components:{check:q},props:{title:{type:String,default:"none"},prompt:{type:String,default:"none"},loading:{type:Boolean,default:!1}}},oe=e=>(L("data-v-05ce5358"),e=e(),x(),e),ro={class:"card"},lo={class:"display_flex gap_4 align-items_center"},co={class:"title font-size_15 font-weight_700"},uo={class:"prompt font-size_13 font-weight_400"},po=oe(()=>n("div",{class:"outline"},null,-1)),go=oe(()=>n("div",{class:"underlay"},null,-1));function _o(e,t,a,d,s,o){const g=p("check"),c=p("icon");return i(),u("button",ro,[n("div",lo,[r(c,{class:"icon_16 selected-icon"},{default:_(()=>[r(g)]),_:1}),n("div",co,m(a.title),1)]),n("div",uo,m(a.prompt),1),P(e.$slots,"default",{},void 0,!0),po,go])}const mo=v(io,[["render",_o],["__scopeId","data-v-05ce5358"]]);const ho={},fo={d:"M48,128h160 M163.17,172.83L208,128l-44.83-44.83"};function vo(e,t){return i(),u("path",fo)}const yo=v(ho,[["render",vo]]),bo={},$o={d:"M48,128h160 M163.17,172.83L208,128l-44.83-44.83"};function wo(e,t){return i(),u("path",$o)}const So=v(bo,[["render",wo]]);const To={components:{question:yo,warning:So},props:{label:{type:String,required:!0},modelValue:{type:String,default:""},hint:{type:String,default:""},type:{type:String,default:"text"},rules:{type:[Array,String,Object],default:()=>[]}},data(){return{validationMessage:"",isFocused:!1,errorMessage:""}},methods:{handleInput(e){this.$emit("update:modelValue",e.target.value),this.validateInput()},async validateInput(){this.errorMessage="";for(const e of this.rules){const t=await e(this.modelValue);if(t!==!0){this.errorMessage=t;return}}}},computed:{isValid(){return this.errorMessage===""}}},D=e=>(L("data-v-47131b6d"),e=e(),x(),e),ko={class:"textField"},Lo={class:"textField-flex"},xo=D(()=>n("div",{class:"textField-space"},null,-1)),Io={class:"textField-input"},Co=["type","value"],Po=D(()=>n("div",{class:"textField-space"},null,-1)),Eo=D(()=>n("div",{class:"textField-overlay"},null,-1)),Ao={class:"textField-outline"},Mo=D(()=>n("div",{class:"textField-outline__start"},null,-1)),Ro={class:"textField-outline__notch"},Do=D(()=>n("div",{class:"textField-outline__end"},null,-1)),Oo=D(()=>n("div",{class:"textField-underline"},null,-1)),No={class:"textField-details"},Go={key:0,class:"messages"},Wo={key:1,class:"messages"},Fo={key:0,class:"validation-message"};function zo(e,t,a,d,s,o){const g=p("warning"),c=p("icon"),l=p("question");return i(),u("div",{class:y(["form-field",{focus:s.isFocused,active:a.modelValue,invalid:!o.isValid}])},[n("div",ko,[n("div",Lo,[xo,n("div",Io,[n("input",{type:a.type,value:a.modelValue,onInput:t[0]||(t[0]=(...h)=>o.handleInput&&o.handleInput(...h)),onFocus:t[1]||(t[1]=h=>s.isFocused=!0),onBlur:t[2]||(t[2]=h=>s.isFocused=!1)},null,40,Co)]),P(e.$slots,"default",{},void 0,!0),Po]),Eo,n("div",Ao,[Mo,n("div",Ro,[n("label",null,m(a.label),1)]),Do]),Oo]),n("div",No,[o.isValid?b("",!0):(i(),u("div",Go,[r(c,null,{default:_(()=>[r(g)]),_:1}),$(m(s.errorMessage),1)])),o.isValid&&a.hint?(i(),u("div",Wo,[r(c,null,{default:_(()=>[r(l)]),_:1}),$(m(a.hint),1)])):b("",!0)]),s.validationMessage?(i(),u("p",Fo)):b("",!0)],2)}const Vo=v(To,[["render",zo],["__scopeId","data-v-47131b6d"]]);const jo={},Jo=n("line",{x1:"200",y1:"56",x2:"56",y2:"200"},null,-1),Bo=n("line",{x1:"200",y1:"200",x2:"56",y2:"56"},null,-1);function Uo(e,t){return i(),u(R,null,[Jo,Bo],64)}const ae=v(jo,[["render",Uo]]),Ho={components:{x:ae},props:{dialog:{type:Boolean,default:!1},title:{type:String,default:""}},watch:{dialog(e){e?document.body.classList.add("no-scroll"):document.body.classList.remove("no-scroll")}},data(){return{loaded:!1}},mounted(){setTimeout(()=>{this.loaded=!0},1)},methods:{closeDialog(){this.$emit("update:dialog",!1)}}},qo={key:0,class:"overlay-container"},Ko={class:"overlay modalDialog"},Zo={class:"dialog"},Qo={class:"dialog-header"},Xo={class:"font-size_24"},Yo={class:"dialog-content"};function ea(e,t,a,d,s,o){const g=p("x"),c=p("icon"),l=p("buttonIcon");return i(),T(F,{to:"body"},[a.dialog?(i(),u("div",qo,[n("div",Ko,[n("div",{class:y(["overlay__scrim",{active:s.loaded}]),onClick:t[0]||(t[0]=(...h)=>o.closeDialog&&o.closeDialog(...h))},null,2),n("div",{class:y(["overlay__content",{active:s.loaded}])},[n("div",Zo,[n("div",Qo,[n("span",Xo,m(a.title),1),r(l,{onClick:o.closeDialog},{default:_(()=>[r(c,null,{default:_(()=>[r(g)]),_:1})]),_:1},8,["onClick"])]),n("div",Yo,[P(e.$slots,"default")])])],2)])])):b("",!0)])}const ta=v(Ho,[["render",ea]]);const sa={components:{caretLeft:X},props:{dialog:{type:Boolean,default:!1},title:{type:String,default:""}},data(){return{loaded:!1}},mounted(){setTimeout(()=>{this.loaded=!0},1)},methods:{closeDialog(){console.log("closeDialog"),this.$emit("update:dialog",!1)}}},na={key:0,class:"overlay-container"},oa={class:"overlay fullDialog"},aa={class:"dialog"},ia={class:"dialog-header"},ra={class:"display_flex align-items_center"},la={class:"title"},ca={class:"header-button"},da={class:"dialog-content"};function ua(e,t,a,d,s,o){const g=p("caretLeft"),c=p("icon"),l=p("buttonIcon");return i(),T(F,{to:"body"},[a.dialog?(i(),u("div",na,[n("div",oa,[n("div",{class:y(["overlay__scrim",{active:s.loaded}]),onClick:t[0]||(t[0]=(...h)=>o.closeDialog&&o.closeDialog(...h))},null,2),n("div",{class:y(["overlay__content",{active:s.loaded}])},[n("div",aa,[n("div",ia,[n("div",ra,[r(l,{onClick:o.closeDialog},{default:_(()=>[r(c,null,{default:_(()=>[r(g)]),_:1})]),_:1},8,["onClick"]),n("span",la,m(a.title),1)]),n("div",ca,[P(e.$slots,"header")])]),n("div",da,[P(e.$slots,"default")])])],2)])])):b("",!0)])}const pa=v(sa,[["render",ua]]);const ga={components:{},props:{dialog:{type:Boolean,default:!1},title:{type:String,default:""}},data(){return{loaded:!1,isFull:!1}},mounted(){setTimeout(()=>{this.loaded=!0},1)},methods:{closeDialog(){this.$emit("update:dialog",!1)}}},_a={key:0,class:"overlay-container"},ma={class:"overlay bottomDialog"},ha={class:"dialog"},fa={class:"dialog-header"},va={class:"font-size_24"},ya={class:"dialog-content"},ba=n("div",{class:"underlay"},null,-1);function $a(e,t,a,d,s,o){const g=p("x"),c=p("icon"),l=p("buttonIcon");return i(),T(F,{to:"body"},[a.dialog?(i(),u("div",_a,[n("div",ma,[n("div",{class:y(["overlay__scrim",{active:s.loaded}]),onClick:t[0]||(t[0]=(...h)=>o.closeDialog&&o.closeDialog(...h))},null,2),n("div",{class:y(["overlay__content",{active:s.loaded,full:s.isFull}])},[n("div",ha,[n("div",fa,[n("span",va,m(a.title),1),r(l,{onClick:o.closeDialog},{default:_(()=>[r(c,null,{default:_(()=>[r(g)]),_:1})]),_:1},8,["onClick"])]),n("div",ya,[P(e.$slots,"default")]),ba])],2)])])):b("",!0)])}const wa=v(ga,[["render",$a]]);const Sa={},Ta={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 256 256",role:"presentation"};function ka(e,t,a,d,s,o){return i(),u("svg",Ta,[n("g",null,[P(e.$slots,"default",{},void 0,!0)])])}const La=v(Sa,[["render",ka],["__scopeId","data-v-3dedf5d2"]]);te.dispatch("users/initAuthState");function xa(e){e.use(te).use(W).component("buttonTab",Fn).component("buttonOutline",Cn).component("buttonIcon",Rn).component("buttonOption",Xn).component("buttonChip",ao).component("card",mo).component("textField",Vo).component("icon",La).component("x",ae).component("modalDialog",ta).component("fullDialog",pa).component("bottomDialog",wa)}const K=le(St);K.config.globalProperties.$http=ce;xa(K);K.mount("#app");
